### 定义
- 一个事务在前后两次查询同一个范围的时候，后一次查询看到了前一次没有看到的行

### 说明
- 可重复读RR模式下，普通的查询是快照读，需要还原事务启动前的最近的一次可见MVCC版本
- 当前读的情况下，才能看到幻读
- 幻读仅专指新插入的行

### 间隙锁 gap lock 解决幻读
- 只在可重复度隔离级别下才生效
- 当前读 for update 或 lock in share mode
- 间隙锁之间不存在冲突关系
- 间隙锁引入，会锁住更大范围，会影响并发度

### next-key lock
- 间隙锁和行锁合称next-key lock
- 每个next-key lock都是前开后闭区间
- next-key lock 先加间隙锁，然后加行锁

### 不使用间隙锁解决幻读
- 隔离级别设置为读提交
- binlog设置为row格式
