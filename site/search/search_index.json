{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Home"},{"location":"#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"kafka/kafka/","text":"kafka","title":"Kafka"},{"location":"kafka/kafka/#kafka","text":"","title":"kafka"},{"location":"mysql/binlog_redolog/","text":"binlog\u5199\u5165\u673a\u5236 \u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5148\u5199\u5230 binlog cache \uff0c\u4e8b\u52a1\u63d0\u4ea4\u540e\uff0cbinlog cache \u4e2d\u7684\u5185\u5bb9\u6301\u4e45\u5316\u5230\u78c1\u76d8 \u4e00\u4e2a\u4e8b\u52a1\u7684binlog\uff0c\u662f\u4e0d\u80fd\u88ab\u62c6\u5f00\u7684\uff0c\u65e0\u8bba\u4e8b\u52a1\u591a\u5927\u4e5f\u8981\u786e\u4fdd\u4e00\u6b21\u6027\u5199\u5165 binlog cache \u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6301\u6709\u4e00\u7247\u5185\u5b58 \u4e8b\u52a1\u63d0\u4ea4\u540e\uff0c\u7ebf\u7a0b\u628abinlog cache \u5199\u5165\u78c1\u76d8\uff0c\u7136\u540e\u6e05\u7a7acache write \u662f\u5c06binlog cache\u7684\u5185\u5bb9\u653e\u5165\u5230\u6587\u4ef6\u7cfb\u7edf\u7684page cache fsync \u4f1a\u5c06page cache \u6570\u636e\u6301\u4e45\u5316\u9053\u78c1\u76d8 sync_binlog sync-binlog\u4e3a0\uff0c\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u4f1awrite\u5230page cache\uff0c\u4e0d\u4f1afsync sync-binlog\u4e3a1\uff0c\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1a\u6267\u884cfsync sync-binlog>1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1awrite\uff0c\u7d2f\u8ba1N\u4e2a\u4e8b\u52a1\u65f6\u624d\u4f1afsync sync-binlog\u4e3a1\uff0c\u6027\u80fd\u5f71\u54cd\u8f83\u5927 sync-binlog\u4e3aN\u65f6\uff0c\u91cd\u542f\u4f1a\u4e22\u5931\u6700\u8fd1N\u4e2a\u4e8b\u52a1\u7684binlog\u65e5\u5fd7 redolog\u5199\u5165\u673a\u5236 redo log buffer\uff0c\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u5148\u5199buffer \u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u90e8\u5206redo log buffer \u4f1a\u88ab\u5199\u5165\u5230\u78c1\u76d8 innodb \u540e\u53f0\u7ebf\u7a0b\uff0c\u5b9a\u65f6\u5c06redo log buffer \u4e2d\u7684\u65e5\u5fd7\u5237\u5230\u78c1\u76d8 redolog buffer \u4e0d\u9700\u8981\u6bcf\u6b21\u65b0\u589e\u90fd\u6301\u4e45\u5316\u5230\u78c1\u76d8 \u4e8b\u52a1\u6267\u884c\u4e2d\u8fd8\u6ca1\u63d0\u4ea4\uff0c\u91cd\u542f\u540e\u4e22\u5931\u4e86\u4e00\u90e8\u5206\u5c31\u56de\u6eda\u4e8b\u52a1 redo log \u72b6\u6001 \u5728redo log buffer\u4e2d \u5728\u6587\u4ef6\u7cfb\u7edfpage cache \u5728\u78c1\u76d8\u4e2d redo log \u5199\u5165\u7b56\u7565 innodb_flush_log_at_trx_commit\u914d\u7f6e\u53c2\u6570 0\uff1a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u7559\u5728redo log buffer 1\uff1a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u5c06redo log\u6301\u4e45\u5230\u78c1\u76d8 2\uff1a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u5199\u5230page cache \u4e8b\u52a1\u7684\u90e8\u5206redo log\u5199\u5165\u5230\u78c1\u76d8 redo log buffer \u5360\u7528 innodb_log_buffer_size\u4e00\u534a\uff0c\u540e\u53f0\u7ebf\u7a0b\u4e3b\u52a8\u5199\u5230page cache \u5e76\u884c\u7684\u5176\u4ed6\u4e8b\u52a1\u63d0\u4ea4\uff0c\u5c06\u8fd9\u4e2a\u4e8b\u52a1\u7684redo log buffer\u4e2d\u7684\u5185\u5bb9\u5e26\u4e0a\uff0c\u4e14redo log \u914d\u7f6e\u53c2\u6570\u8bbe\u7f6e\u4e3a1\u65f6\uff0c\u5237\u5230\u78c1\u76d8 \u53cc\u4e00\u914d\u7f6e sync-binlog \u8bbe\u7f6e\u4e3a1 innodb_flush_log_at_trx_commit \u8bbe\u7f6e\u4e3a1 \u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u524d\uff0c\u4e24\u9636\u6bb5\u63d0\u4ea4\uff0credo log\u5237\u76d8\u4e00\u6b21\uff0cbinlog\u5237\u76d8\u4e00\u6b21 redo log \u72b6\u6001\u6539\u4e3acommit\u7684\u65f6\u5019\u4e0d\u4f1a\u8fdb\u884cfsync\uff0c\u56e0\u4e3a\u53ea\u8981binlog \u5199\u78c1\u76d8\u6210\u529f\uff0c\u5c31\u7b97redo log \u7684\u72b6\u6001\u8fd8\u662fprepare\u4e5f\u6ca1\u6709\u5173\u7cfb\u4f1a\u88ab\u8ba4\u4e3a\u4e8b\u52a1\u5df2\u7ecf\u6267\u884c\u6210\u529f\uff0c\u6240\u4ee5\u53ea\u9700\u8981write \u5230page cache\u5c31ok\u4e86\uff0c\u6ca1\u5fc5\u8981\u518d\u6d6a\u8d39io\u4e3b\u52a8\u53bb\u8fdb\u884c\u4e00\u6b21fsync \u7ec4\u63d0\u4ea4 \u6bcf\u6b21redo log \u843d\u76d8\u65f6\uff0c\u643a\u5e26\u591a\u4e2a\u63d0\u4ea4\u4e8b\u52a1\u7684redo log buffer binlog\u4e5f\u53ef\u4ee5\u7ec4\u63d0\u4ea4 binlog\u7ec4\u63d0\u4ea4 binlog_group_commit_sync_delay \u53c2\u6570\uff0c\u8868\u793a\u5ef6\u8fdf\u591a\u5c11\u5fae\u79d2\u540e\u624d\u8c03\u7528 fsync binlog_group_commit_sync_no_delay_count \u53c2\u6570\uff0c\u8868\u793a\u7d2f\u79ef\u591a\u5c11\u6b21\u4ee5\u540e\u624d\u8c03\u7528 fsync","title":"binlog&&redolog"},{"location":"mysql/binlog_redolog/#binlog","text":"\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5148\u5199\u5230 binlog cache \uff0c\u4e8b\u52a1\u63d0\u4ea4\u540e\uff0cbinlog cache \u4e2d\u7684\u5185\u5bb9\u6301\u4e45\u5316\u5230\u78c1\u76d8 \u4e00\u4e2a\u4e8b\u52a1\u7684binlog\uff0c\u662f\u4e0d\u80fd\u88ab\u62c6\u5f00\u7684\uff0c\u65e0\u8bba\u4e8b\u52a1\u591a\u5927\u4e5f\u8981\u786e\u4fdd\u4e00\u6b21\u6027\u5199\u5165 binlog cache \u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6301\u6709\u4e00\u7247\u5185\u5b58 \u4e8b\u52a1\u63d0\u4ea4\u540e\uff0c\u7ebf\u7a0b\u628abinlog cache \u5199\u5165\u78c1\u76d8\uff0c\u7136\u540e\u6e05\u7a7acache write \u662f\u5c06binlog cache\u7684\u5185\u5bb9\u653e\u5165\u5230\u6587\u4ef6\u7cfb\u7edf\u7684page cache fsync \u4f1a\u5c06page cache \u6570\u636e\u6301\u4e45\u5316\u9053\u78c1\u76d8","title":"binlog\u5199\u5165\u673a\u5236"},{"location":"mysql/binlog_redolog/#sync_binlog","text":"sync-binlog\u4e3a0\uff0c\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u4f1awrite\u5230page cache\uff0c\u4e0d\u4f1afsync sync-binlog\u4e3a1\uff0c\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1a\u6267\u884cfsync sync-binlog>1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1awrite\uff0c\u7d2f\u8ba1N\u4e2a\u4e8b\u52a1\u65f6\u624d\u4f1afsync sync-binlog\u4e3a1\uff0c\u6027\u80fd\u5f71\u54cd\u8f83\u5927 sync-binlog\u4e3aN\u65f6\uff0c\u91cd\u542f\u4f1a\u4e22\u5931\u6700\u8fd1N\u4e2a\u4e8b\u52a1\u7684binlog\u65e5\u5fd7","title":"sync_binlog"},{"location":"mysql/binlog_redolog/#redolog","text":"redo log buffer\uff0c\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u5148\u5199buffer \u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u90e8\u5206redo log buffer \u4f1a\u88ab\u5199\u5165\u5230\u78c1\u76d8 innodb \u540e\u53f0\u7ebf\u7a0b\uff0c\u5b9a\u65f6\u5c06redo log buffer \u4e2d\u7684\u65e5\u5fd7\u5237\u5230\u78c1\u76d8","title":"redolog\u5199\u5165\u673a\u5236"},{"location":"mysql/binlog_redolog/#redolog-buffer","text":"\u4e8b\u52a1\u6267\u884c\u4e2d\u8fd8\u6ca1\u63d0\u4ea4\uff0c\u91cd\u542f\u540e\u4e22\u5931\u4e86\u4e00\u90e8\u5206\u5c31\u56de\u6eda\u4e8b\u52a1","title":"redolog buffer \u4e0d\u9700\u8981\u6bcf\u6b21\u65b0\u589e\u90fd\u6301\u4e45\u5316\u5230\u78c1\u76d8"},{"location":"mysql/binlog_redolog/#redo-log","text":"\u5728redo log buffer\u4e2d \u5728\u6587\u4ef6\u7cfb\u7edfpage cache \u5728\u78c1\u76d8\u4e2d","title":"redo log \u72b6\u6001"},{"location":"mysql/binlog_redolog/#redo-log-innodb_flush_log_at_trx_commit","text":"0\uff1a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u7559\u5728redo log buffer 1\uff1a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u5c06redo log\u6301\u4e45\u5230\u78c1\u76d8 2\uff1a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u90fd\u5199\u5230page cache","title":"redo log \u5199\u5165\u7b56\u7565 innodb_flush_log_at_trx_commit\u914d\u7f6e\u53c2\u6570"},{"location":"mysql/binlog_redolog/#redo-log_1","text":"redo log buffer \u5360\u7528 innodb_log_buffer_size\u4e00\u534a\uff0c\u540e\u53f0\u7ebf\u7a0b\u4e3b\u52a8\u5199\u5230page cache \u5e76\u884c\u7684\u5176\u4ed6\u4e8b\u52a1\u63d0\u4ea4\uff0c\u5c06\u8fd9\u4e2a\u4e8b\u52a1\u7684redo log buffer\u4e2d\u7684\u5185\u5bb9\u5e26\u4e0a\uff0c\u4e14redo log \u914d\u7f6e\u53c2\u6570\u8bbe\u7f6e\u4e3a1\u65f6\uff0c\u5237\u5230\u78c1\u76d8","title":"\u4e8b\u52a1\u7684\u90e8\u5206redo log\u5199\u5165\u5230\u78c1\u76d8"},{"location":"mysql/binlog_redolog/#_1","text":"sync-binlog \u8bbe\u7f6e\u4e3a1 innodb_flush_log_at_trx_commit \u8bbe\u7f6e\u4e3a1 \u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u524d\uff0c\u4e24\u9636\u6bb5\u63d0\u4ea4\uff0credo log\u5237\u76d8\u4e00\u6b21\uff0cbinlog\u5237\u76d8\u4e00\u6b21 redo log \u72b6\u6001\u6539\u4e3acommit\u7684\u65f6\u5019\u4e0d\u4f1a\u8fdb\u884cfsync\uff0c\u56e0\u4e3a\u53ea\u8981binlog \u5199\u78c1\u76d8\u6210\u529f\uff0c\u5c31\u7b97redo log \u7684\u72b6\u6001\u8fd8\u662fprepare\u4e5f\u6ca1\u6709\u5173\u7cfb\u4f1a\u88ab\u8ba4\u4e3a\u4e8b\u52a1\u5df2\u7ecf\u6267\u884c\u6210\u529f\uff0c\u6240\u4ee5\u53ea\u9700\u8981write \u5230page cache\u5c31ok\u4e86\uff0c\u6ca1\u5fc5\u8981\u518d\u6d6a\u8d39io\u4e3b\u52a8\u53bb\u8fdb\u884c\u4e00\u6b21fsync","title":"\u53cc\u4e00\u914d\u7f6e"},{"location":"mysql/binlog_redolog/#_2","text":"\u6bcf\u6b21redo log \u843d\u76d8\u65f6\uff0c\u643a\u5e26\u591a\u4e2a\u63d0\u4ea4\u4e8b\u52a1\u7684redo log buffer binlog\u4e5f\u53ef\u4ee5\u7ec4\u63d0\u4ea4","title":"\u7ec4\u63d0\u4ea4"},{"location":"mysql/binlog_redolog/#binlog_1","text":"binlog_group_commit_sync_delay \u53c2\u6570\uff0c\u8868\u793a\u5ef6\u8fdf\u591a\u5c11\u5fae\u79d2\u540e\u624d\u8c03\u7528 fsync binlog_group_commit_sync_no_delay_count \u53c2\u6570\uff0c\u8868\u793a\u7d2f\u79ef\u591a\u5c11\u6b21\u4ee5\u540e\u624d\u8c03\u7528 fsync","title":"binlog\u7ec4\u63d0\u4ea4"},{"location":"mysql/order_by/","text":"sort-buffer sort-buffer-size: \u7528\u6765\u6392\u5e8f\u7684buffer\u5927\u5c0f \u9700\u8981\u6392\u5e8f\u7684\u5185\u5bb9\u5c0f\u4e8esort-buffer-size\uff0c\u57fa\u4e8e\u5185\u5b58\u6392\u5e8f \u9700\u8981\u6392\u5e8f\u7684\u5185\u5bb9\u5927\u4e8esort-buffer-size\uff0c\u7528\u4e34\u65f6\u78c1\u76d8\u6587\u4ef6\u8f85\u52a9\u6392\u5e8f max_length_for_sort_data \u7528\u6765\u63a7\u5236\u6392\u5e8f\u7684\u884c\u6570\u636e\u957f\u5ea6\u7684\u4e00\u4e2a\u53c2\u6570 \u5982\u679c\u5355\u884c\u957f\u5ea6\u8d85\u8fc7\u8fd9\u4e2a\u503c\uff0c\u5219\u53ea\u53d6\u6392\u5e8f\u5b57\u6bb5\u548c\u4e3b\u952eid\uff0c\u6392\u5e8f\u540e\uff0c\u7528\u4e3b\u952eid\u67e5\u8be2\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef \u5982\u679c\u6392\u5e8f\u5355\u884c\u957f\u5ea6\u4e0d\u8d85\u8fc7\u8fd9\u4e2a\u503c\uff0c\u5c31\u91c7\u7528\u5168\u5b57\u6bb5\u6392\u5e8f\uff0c\u7136\u540e\u76f4\u63a5\u8fd4\u56de\u6392\u5e8f\u6570\u636e\u7ed9\u5ba2\u6237\u7aef\uff0c\u4e0d\u9700\u8981\u518d\u6b21\u67e5\u8be2\u4e3b\u952e rowid\u6392\u5e8f \u6392\u5e8fsort-buffer\u91cc\u8fb9\u53ea\u6709\u6392\u5e8f\u5b57\u6bb5\u548c\u4e3b\u952eid \u6392\u5b8c\u5e8f\u540e\uff0c\u5982\u679c\u8981select\u5176\u4ed6\u5b57\u6bb5\uff0c\u5219\u9700\u8981\u7528\u4e3b\u952eid\u56de\u8868\u67e5\u8be2\u5176\u4ed6\u5b57\u6bb5 \u6392\u5e8f\u540e\uff0c\u6309\u7167\u4e3b\u952e\u7d22\u5f15\uff0c\u67e5\u8be2\u6570\u636e\u67e5\u5230\u4e00\u4e2a\u5c31\u8fd4\u56de\u4e00\u4e2a\u7ed9\u5ba2\u6237\u7aef \u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u53ef\u4ee5\u5355\u72ec\u5b8c\u6210\u7684\u6392\u5e8f\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u4e34\u65f6\u7a7a\u95f4 \u5185\u5b58\u4e34\u65f6\u8868\u548c\u78c1\u76d8\u4e34\u65f6\u8868 \u6392\u5e8f\u7684\u6570\u636e\u4e34\u65f6\u8868\u5c0f\u4e8etmp_table_size\u914d\u7f6e\u7684\u503c\uff08\u9ed8\u8ba4\u662f16M\uff09\u65f6\u4f7f\u7528\u5185\u5b58\u4e34\u65f6\u8868\uff0c\u5f15\u64ce\u662fmemory\u5f15\u64ce\uff0c\u66f4\u503e\u5411\u4e8e\u5185\u5b58\u4e34\u65f6\u8868\u6392\u5e8f \u5927\u4e8e\u914d\u7f6e\u7684\u503c\u65f6\uff0c\u4f7f\u7528\u78c1\u76d8\u4e34\u65f6\u8868\uff0c\u4f7f\u7528\u7684\u662fInnoDB\u5f15\u64ce\uff0c\u66f4\u503e\u5411\u4e8e\u5168\u5b57\u6bb5\u6392\u5e8f order_by_rand \u6392\u5e8f\u5b57\u6bb5\u52a00-1\u968f\u673a\u751f\u6210\u6570\u7684\u5b57\u6bb5 sort-buffer \u653e\u7f6e\u968f\u673a\u6570\u548c\u8bb0\u5f55\u7684 \u4f4d\u7f6e\u4fe1\u606f \u7136\u540e\u6309\u7167\u968f\u673a\u6570\u5b57\u6bb5\u6392\u5e8f\uff0c\u7136\u540e\u7528\u524d\u51e0\u4e2a\u7684\u4f4d\u7f6e\u4fe1\u606f\u53bb\u5185\u5b58\u4e34\u65f6\u8868\u4e0a\u53d6\u51fa\u5b57\u6bb5\u7684\u503c \u4e3b\u952e row id\u6392\u5e8f \u6709\u4e3b\u952e\u7684InnoDB\uff0crowid\u5c31\u662f\u4e3b\u952e \u65e0\u4e3b\u952e\u7684InnoDB\u8868\uff0c\u7cfb\u7edf\u751f\u6210rowid memory\u4e34\u65f6\u8868\uff0c\u6570\u7ec4\u6392\u5217\uff0c\u4e3b\u952e\u5c31\u662f\u6570\u7ec4\u4e0b\u6807 \u4f18\u5148\u961f\u5217\u6392\u5e8f\u7b97\u6cd5 \u5982\u679c\u8981\u6392\u5e8f\u7684\u6570\u636e\u91cf\u603b\u548c\u5927\u5c0f\u4e0d\u8d85\u8fc7sort-buffer-size\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u4f18\u5148\u961f\u5217\u6392\u5e8f\uff0c\u5426\u5219\u4f7f\u7528\u5f52\u5e76\u6392\u5e8f\uff0c\u4e5f\u5c31\u662f\u4e34\u65f6\u6587\u4ef6\u6392\u5e8f \u53d6\u524dN\u4e2a\u6392\u5e8f\u7684\u5143\u7d20\u6784\u6210\u5806\uff08\u5927\u6839\u5806\uff09 \u4e00\u6b21\u904d\u5386\u540e\u8fb9\u7684\u6392\u5e8f\u6570\u636e\uff0c\u4e0d\u65ad\u8c03\u6574\u5806 \u904d\u5386\u5b8c\u540e\u8fd4\u56de\u5806\u7684\u5143\u7d20","title":"order_by"},{"location":"mysql/order_by/#sort-buffer","text":"sort-buffer-size: \u7528\u6765\u6392\u5e8f\u7684buffer\u5927\u5c0f \u9700\u8981\u6392\u5e8f\u7684\u5185\u5bb9\u5c0f\u4e8esort-buffer-size\uff0c\u57fa\u4e8e\u5185\u5b58\u6392\u5e8f \u9700\u8981\u6392\u5e8f\u7684\u5185\u5bb9\u5927\u4e8esort-buffer-size\uff0c\u7528\u4e34\u65f6\u78c1\u76d8\u6587\u4ef6\u8f85\u52a9\u6392\u5e8f","title":"sort-buffer"},{"location":"mysql/order_by/#max_length_for_sort_data","text":"\u7528\u6765\u63a7\u5236\u6392\u5e8f\u7684\u884c\u6570\u636e\u957f\u5ea6\u7684\u4e00\u4e2a\u53c2\u6570 \u5982\u679c\u5355\u884c\u957f\u5ea6\u8d85\u8fc7\u8fd9\u4e2a\u503c\uff0c\u5219\u53ea\u53d6\u6392\u5e8f\u5b57\u6bb5\u548c\u4e3b\u952eid\uff0c\u6392\u5e8f\u540e\uff0c\u7528\u4e3b\u952eid\u67e5\u8be2\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef \u5982\u679c\u6392\u5e8f\u5355\u884c\u957f\u5ea6\u4e0d\u8d85\u8fc7\u8fd9\u4e2a\u503c\uff0c\u5c31\u91c7\u7528\u5168\u5b57\u6bb5\u6392\u5e8f\uff0c\u7136\u540e\u76f4\u63a5\u8fd4\u56de\u6392\u5e8f\u6570\u636e\u7ed9\u5ba2\u6237\u7aef\uff0c\u4e0d\u9700\u8981\u518d\u6b21\u67e5\u8be2\u4e3b\u952e","title":"max_length_for_sort_data"},{"location":"mysql/order_by/#rowid","text":"\u6392\u5e8fsort-buffer\u91cc\u8fb9\u53ea\u6709\u6392\u5e8f\u5b57\u6bb5\u548c\u4e3b\u952eid \u6392\u5b8c\u5e8f\u540e\uff0c\u5982\u679c\u8981select\u5176\u4ed6\u5b57\u6bb5\uff0c\u5219\u9700\u8981\u7528\u4e3b\u952eid\u56de\u8868\u67e5\u8be2\u5176\u4ed6\u5b57\u6bb5 \u6392\u5e8f\u540e\uff0c\u6309\u7167\u4e3b\u952e\u7d22\u5f15\uff0c\u67e5\u8be2\u6570\u636e\u67e5\u5230\u4e00\u4e2a\u5c31\u8fd4\u56de\u4e00\u4e2a\u7ed9\u5ba2\u6237\u7aef","title":"rowid\u6392\u5e8f"},{"location":"mysql/order_by/#_1","text":"","title":"\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u53ef\u4ee5\u5355\u72ec\u5b8c\u6210\u7684\u6392\u5e8f\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u4e34\u65f6\u7a7a\u95f4"},{"location":"mysql/order_by/#_2","text":"\u6392\u5e8f\u7684\u6570\u636e\u4e34\u65f6\u8868\u5c0f\u4e8etmp_table_size\u914d\u7f6e\u7684\u503c\uff08\u9ed8\u8ba4\u662f16M\uff09\u65f6\u4f7f\u7528\u5185\u5b58\u4e34\u65f6\u8868\uff0c\u5f15\u64ce\u662fmemory\u5f15\u64ce\uff0c\u66f4\u503e\u5411\u4e8e\u5185\u5b58\u4e34\u65f6\u8868\u6392\u5e8f \u5927\u4e8e\u914d\u7f6e\u7684\u503c\u65f6\uff0c\u4f7f\u7528\u78c1\u76d8\u4e34\u65f6\u8868\uff0c\u4f7f\u7528\u7684\u662fInnoDB\u5f15\u64ce\uff0c\u66f4\u503e\u5411\u4e8e\u5168\u5b57\u6bb5\u6392\u5e8f","title":"\u5185\u5b58\u4e34\u65f6\u8868\u548c\u78c1\u76d8\u4e34\u65f6\u8868"},{"location":"mysql/order_by/#order_by_rand","text":"\u6392\u5e8f\u5b57\u6bb5\u52a00-1\u968f\u673a\u751f\u6210\u6570\u7684\u5b57\u6bb5 sort-buffer \u653e\u7f6e\u968f\u673a\u6570\u548c\u8bb0\u5f55\u7684 \u4f4d\u7f6e\u4fe1\u606f \u7136\u540e\u6309\u7167\u968f\u673a\u6570\u5b57\u6bb5\u6392\u5e8f\uff0c\u7136\u540e\u7528\u524d\u51e0\u4e2a\u7684\u4f4d\u7f6e\u4fe1\u606f\u53bb\u5185\u5b58\u4e34\u65f6\u8868\u4e0a\u53d6\u51fa\u5b57\u6bb5\u7684\u503c","title":"order_by_rand"},{"location":"mysql/order_by/#row-id","text":"\u6709\u4e3b\u952e\u7684InnoDB\uff0crowid\u5c31\u662f\u4e3b\u952e \u65e0\u4e3b\u952e\u7684InnoDB\u8868\uff0c\u7cfb\u7edf\u751f\u6210rowid memory\u4e34\u65f6\u8868\uff0c\u6570\u7ec4\u6392\u5217\uff0c\u4e3b\u952e\u5c31\u662f\u6570\u7ec4\u4e0b\u6807","title":"\u4e3b\u952e row id\u6392\u5e8f"},{"location":"mysql/order_by/#_3","text":"\u5982\u679c\u8981\u6392\u5e8f\u7684\u6570\u636e\u91cf\u603b\u548c\u5927\u5c0f\u4e0d\u8d85\u8fc7sort-buffer-size\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u4f18\u5148\u961f\u5217\u6392\u5e8f\uff0c\u5426\u5219\u4f7f\u7528\u5f52\u5e76\u6392\u5e8f\uff0c\u4e5f\u5c31\u662f\u4e34\u65f6\u6587\u4ef6\u6392\u5e8f \u53d6\u524dN\u4e2a\u6392\u5e8f\u7684\u5143\u7d20\u6784\u6210\u5806\uff08\u5927\u6839\u5806\uff09 \u4e00\u6b21\u904d\u5386\u540e\u8fb9\u7684\u6392\u5e8f\u6570\u636e\uff0c\u4e0d\u65ad\u8c03\u6574\u5806 \u904d\u5386\u5b8c\u540e\u8fd4\u56de\u5806\u7684\u5143\u7d20","title":"\u4f18\u5148\u961f\u5217\u6392\u5e8f\u7b97\u6cd5"},{"location":"mysql/sql%E6%89%A7%E8%A1%8C%E5%BC%82%E5%B8%B8/","text":"\u67e5\u8be2\u957f\u65f6\u95f4\u4e0d\u8fd4\u56de \u8868\u88ab\u9501\u4f4f\uff0c\u7b49MDL\u9501 lock table t write \u8868\u7b49\u5f85Flush\uff0c\u5982\u679cflush\u963b\u585e\u7684\u65f6\u5019\uff0cselect\u4e5f\u4f1a\u963b\u585e flush tables t with read lock flush tables with read lock \u7b49\u5f85\u884c\u9501\uff0c\u5f53\u524d\u67e5\u8be2\u8bb0\u5f55\u6709\u884c\u9501\u65f6\uff0c\u5982\u679c\u67e5\u8be2\u8981\u52a0\u8bfb\u9501\u5c31\u4f1a\u963b\u585e\u5f53\u524d\u67e5\u8be2 select * from t where id = 1 lock in share mode; \u67e5\u8be2\u6162 \u67e5\u8be2\u6761\u4ef6\u5b57\u6bb5\u6ca1\u6709\u547d\u4e2d\u7d22\u5f15\uff0c\u9020\u6210\u5168\u8868\u626b\u63cf \u67e5\u8be2\u7684\u884c\u6b63\u5728\u5176\u4ed6\u4e8b\u52a1\u88ab\u4e0d\u65ad\u66f4\u65b0\uff0c\u7136\u540e\u5feb\u7167\u8bfb\u9700\u8981\u4e0d\u65ad\u7684\u7528undo log \u53bb\u8fd8\u539f\u53ef\u89c1\u7684MVCC\u7248\u672c lock in share mode \u8fd4\u56de\u7279\u522b\u5feb\uff0c\u56e0\u4e3a\u662f\u5f53\u524d\u8bfb sql\u8bed\u53e5\u672c\u8eab\u95ee\u9898\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u91cd\u5199\u6765\u4fee\u6539 mysql\u672c\u8eab\u9009\u9519\u4e86\u7d22\u5f15\uff0c force index \u4fee\u6b63\uff0c\u6216\u8005\u5220\u9664\u9009\u9519\u7684\u7d22\u5f15","title":"SQL\u6267\u884c\u5f02\u5e38"},{"location":"mysql/sql%E6%89%A7%E8%A1%8C%E5%BC%82%E5%B8%B8/#_1","text":"\u8868\u88ab\u9501\u4f4f\uff0c\u7b49MDL\u9501 lock table t write \u8868\u7b49\u5f85Flush\uff0c\u5982\u679cflush\u963b\u585e\u7684\u65f6\u5019\uff0cselect\u4e5f\u4f1a\u963b\u585e flush tables t with read lock flush tables with read lock \u7b49\u5f85\u884c\u9501\uff0c\u5f53\u524d\u67e5\u8be2\u8bb0\u5f55\u6709\u884c\u9501\u65f6\uff0c\u5982\u679c\u67e5\u8be2\u8981\u52a0\u8bfb\u9501\u5c31\u4f1a\u963b\u585e\u5f53\u524d\u67e5\u8be2 select * from t where id = 1 lock in share mode;","title":"\u67e5\u8be2\u957f\u65f6\u95f4\u4e0d\u8fd4\u56de"},{"location":"mysql/sql%E6%89%A7%E8%A1%8C%E5%BC%82%E5%B8%B8/#_2","text":"\u67e5\u8be2\u6761\u4ef6\u5b57\u6bb5\u6ca1\u6709\u547d\u4e2d\u7d22\u5f15\uff0c\u9020\u6210\u5168\u8868\u626b\u63cf \u67e5\u8be2\u7684\u884c\u6b63\u5728\u5176\u4ed6\u4e8b\u52a1\u88ab\u4e0d\u65ad\u66f4\u65b0\uff0c\u7136\u540e\u5feb\u7167\u8bfb\u9700\u8981\u4e0d\u65ad\u7684\u7528undo log \u53bb\u8fd8\u539f\u53ef\u89c1\u7684MVCC\u7248\u672c lock in share mode \u8fd4\u56de\u7279\u522b\u5feb\uff0c\u56e0\u4e3a\u662f\u5f53\u524d\u8bfb sql\u8bed\u53e5\u672c\u8eab\u95ee\u9898\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u91cd\u5199\u6765\u4fee\u6539 mysql\u672c\u8eab\u9009\u9519\u4e86\u7d22\u5f15\uff0c force index \u4fee\u6b63\uff0c\u6216\u8005\u5220\u9664\u9009\u9519\u7684\u7d22\u5f15","title":"\u67e5\u8be2\u6162"},{"location":"mysql/%E4%B8%8D%E5%90%8C%E7%9A%84count/","text":"\u4e3a\u4ec0\u4e48InnoDB\u5f15\u64ce count(*) \u8fd9\u4e48\u6162\uff1f \u6bcf\u6761\u8bb0\u5f55\u5728\u6570\u636e\u5e93\u4e2d\u90fd\u6709\u591a\u4e2a\u7248\u672c\uff0c\u591a\u4e2a\u4e8b\u52a1\u8fdb\u884ccount\u8ba1\u6570\u7684\u7ed3\u679c\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684 \u9700\u8981\u53bb\u9664\u6240\u6709\u8bb0\u5f55\u4e00\u884c\u4e00\u884c\u68c0\u67e5\u8ba1\u6570 count\u65f6\u904d\u5386\u6700\u5c0f\u7684\u6811 show table status \u7ed3\u679c\u4e2d\u7684table_rows\u4e0d\u51c6\u786e\uff0c\u91c7\u6837\u4f30\u7b97\u8868\u4e2d\u6709\u591a\u5c11\u884c\u8bb0\u5f55 \u8bef\u5dee40-50% \u52a0\u901fcount\u901f\u5ea6\u548c\u51c6\u786e\u5ea6 \u8bbe\u7f6eredis\u7f13\u5b58\uff0c\u901f\u5ea6\u53ef\u4ee5\uff0c\u4f46\u662f\u6570\u636e\u603b\u6709\u8bef\u5dee\uff0c\u4e14\u6613\u4e22\u5931 \u8fd9\u4e24\u4e2a\u4e0d\u540c\u7684\u5b58\u50a8\u6784\u6210\u7684\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u65e0\u6cd5\u62ff\u5230\u7cbe\u786e\u4e00\u81f4\u7684\u89c6\u56fe \u7528mysql\u7684\u8868\u5b58\uff0c\u5f00\u542f\u4e8b\u52a1\u8fdb\u884c\u64cd\u4f5c \u4e0d\u540c\u7684count count\u662f\u4e00\u4e2a\u805a\u5408\u51fd\u6570\uff0c\u5bf9\u4e00\u4e2a\u7ed3\u679c\u96c6\u8fd4\u56de\u7684\u6570\u636e\u4e00\u4e00\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679ccount\u7684\u53c2\u6570\u4e0d\u662fNULL\uff0c\u5c31\u8fdb\u884c\u7d2f\u52a01\uff0c\u7136\u540e\u8fd4\u56de\u7d2f\u8ba1\u503c count(*), count(id), count(1) \u90fd\u8868\u793a\u8fd4\u56de\u7ed3\u679c\u96c6\u4e2d\u8bb0\u5f55\u7684\u603b\u6570 count(\u5b57\u6bb5)\u8868\u793a\u7ed3\u679c\u96c6\u4e2d\uff0c\u5b57\u6bb5\u90e8\u4f4dnull\u7684\u603b\u6570 count(*) \u6bcf\u4e00\u884c\u80af\u5b9a\u4e0d\u662fnull\uff0c\u6309\u884c\u7d2f\u52a0 count(id) \u904d\u5386\u8868\uff0c\u53d6\u51fa\u6bcf\u884c\u7684id\uff0cserver\u5c42\u5224\u65ad\u4e0d\u662fnull\uff0c\u5c31\u7d2f\u52a01 count(1) \u904d\u5386\u8868\uff0c\u4e0d\u53d6\u503c\uff0cserver\u5c42\u5bf91\u8fdb\u884c\u7d2f\u8ba1 count(\u5b57\u6bb5) \u5b57\u6bb5\u5b9a\u4e49\u4e0d\u5141\u8bb8\u4e3anull\uff0c\u8fd9\u5224\u65ad\u4e0d\u662fnull\uff0c\u7d2f\u52a01 \u5b57\u6bb5\u5b9a\u4e49\u5141\u8bb8\u4e3anull\uff0c\u5224\u65ad\u5230\u6709\u53ef\u80fd\u662f null\uff0c\u8fd8\u8981\u628a\u503c\u53d6\u51fa\u6765\u518d\u5224\u65ad\u4e00\u4e0b\uff0c\u4e0d\u662f null \u624d\u7d2f\u52a0 \u6309\u7167\u6548\u7387\u6392\u5e8fcount(\u5b57\u6bb5) < count(id) < count(1) \u2248 count(*)","title":"\u4e0d\u540c\u7684count"},{"location":"mysql/%E4%B8%8D%E5%90%8C%E7%9A%84count/#innodb-count","text":"\u6bcf\u6761\u8bb0\u5f55\u5728\u6570\u636e\u5e93\u4e2d\u90fd\u6709\u591a\u4e2a\u7248\u672c\uff0c\u591a\u4e2a\u4e8b\u52a1\u8fdb\u884ccount\u8ba1\u6570\u7684\u7ed3\u679c\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684 \u9700\u8981\u53bb\u9664\u6240\u6709\u8bb0\u5f55\u4e00\u884c\u4e00\u884c\u68c0\u67e5\u8ba1\u6570 count\u65f6\u904d\u5386\u6700\u5c0f\u7684\u6811","title":"\u4e3a\u4ec0\u4e48InnoDB\u5f15\u64ce count(*) \u8fd9\u4e48\u6162\uff1f"},{"location":"mysql/%E4%B8%8D%E5%90%8C%E7%9A%84count/#show-table-status","text":"\u7ed3\u679c\u4e2d\u7684table_rows\u4e0d\u51c6\u786e\uff0c\u91c7\u6837\u4f30\u7b97\u8868\u4e2d\u6709\u591a\u5c11\u884c\u8bb0\u5f55 \u8bef\u5dee40-50%","title":"show table status"},{"location":"mysql/%E4%B8%8D%E5%90%8C%E7%9A%84count/#count","text":"\u8bbe\u7f6eredis\u7f13\u5b58\uff0c\u901f\u5ea6\u53ef\u4ee5\uff0c\u4f46\u662f\u6570\u636e\u603b\u6709\u8bef\u5dee\uff0c\u4e14\u6613\u4e22\u5931 \u8fd9\u4e24\u4e2a\u4e0d\u540c\u7684\u5b58\u50a8\u6784\u6210\u7684\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u65e0\u6cd5\u62ff\u5230\u7cbe\u786e\u4e00\u81f4\u7684\u89c6\u56fe \u7528mysql\u7684\u8868\u5b58\uff0c\u5f00\u542f\u4e8b\u52a1\u8fdb\u884c\u64cd\u4f5c","title":"\u52a0\u901fcount\u901f\u5ea6\u548c\u51c6\u786e\u5ea6"},{"location":"mysql/%E4%B8%8D%E5%90%8C%E7%9A%84count/#count_1","text":"count\u662f\u4e00\u4e2a\u805a\u5408\u51fd\u6570\uff0c\u5bf9\u4e00\u4e2a\u7ed3\u679c\u96c6\u8fd4\u56de\u7684\u6570\u636e\u4e00\u4e00\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679ccount\u7684\u53c2\u6570\u4e0d\u662fNULL\uff0c\u5c31\u8fdb\u884c\u7d2f\u52a01\uff0c\u7136\u540e\u8fd4\u56de\u7d2f\u8ba1\u503c count(*), count(id), count(1) \u90fd\u8868\u793a\u8fd4\u56de\u7ed3\u679c\u96c6\u4e2d\u8bb0\u5f55\u7684\u603b\u6570 count(\u5b57\u6bb5)\u8868\u793a\u7ed3\u679c\u96c6\u4e2d\uff0c\u5b57\u6bb5\u90e8\u4f4dnull\u7684\u603b\u6570 count(*) \u6bcf\u4e00\u884c\u80af\u5b9a\u4e0d\u662fnull\uff0c\u6309\u884c\u7d2f\u52a0 count(id) \u904d\u5386\u8868\uff0c\u53d6\u51fa\u6bcf\u884c\u7684id\uff0cserver\u5c42\u5224\u65ad\u4e0d\u662fnull\uff0c\u5c31\u7d2f\u52a01 count(1) \u904d\u5386\u8868\uff0c\u4e0d\u53d6\u503c\uff0cserver\u5c42\u5bf91\u8fdb\u884c\u7d2f\u8ba1 count(\u5b57\u6bb5) \u5b57\u6bb5\u5b9a\u4e49\u4e0d\u5141\u8bb8\u4e3anull\uff0c\u8fd9\u5224\u65ad\u4e0d\u662fnull\uff0c\u7d2f\u52a01 \u5b57\u6bb5\u5b9a\u4e49\u5141\u8bb8\u4e3anull\uff0c\u5224\u65ad\u5230\u6709\u53ef\u80fd\u662f null\uff0c\u8fd8\u8981\u628a\u503c\u53d6\u51fa\u6765\u518d\u5224\u65ad\u4e00\u4e0b\uff0c\u4e0d\u662f null \u624d\u7d2f\u52a0 \u6309\u7167\u6548\u7387\u6392\u5e8fcount(\u5b57\u6bb5) < count(id) < count(1) \u2248 count(*)","title":"\u4e0d\u540c\u7684count"},{"location":"mysql/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4_%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D/","text":"\u4e24\u9636\u6bb5\u63d0\u4ea4 \u65f6\u523bA\u5d29\u6e83 binlog\u672a\u5199\uff0credolog\u672a\u63d0\u4ea4 \u91cd\u542f\u540e\u4e8b\u52a1\u76f4\u63a5\u56de\u6eda \u65f6\u523bB\u5d29\u6e83\uff0c\u5d29\u6e83\u6062\u590d\u5224\u65ad\u89c4\u5219 redo log \u4e8b\u52a1 \u5b8c\u6574\uff0credo loga \u5df2\u7ecf\u6709\u4e86commit \u8868\u793a\uff0c\u63d0\u4ea4\u4e8b\u52a1 redo log \u4e8b\u52a1\u53ea\u6709\u5b8c\u6574\u7684prepare\uff0c\u5224\u65ad\u5bf9\u5e94\u4e8b\u52a1\u7684binlog\u662f\u5426\u5b8c\u6574 binlog\u5b8c\u6574\uff0c\u63d0\u4ea4\u4e8b\u52a1 binlog\u4e0d\u5b8c\u6574\uff0c\u56de\u6eda\u4e8b\u52a1 \u5224\u65adbinlog \u5b8c\u6574 statement\u683c\u5f0f\u7684binlog\uff0c\u6700\u540e\u4f1a\u6709COMMIT row\u683c\u5f0f\u7684binlog\uff0c\u6700\u540e\u4f1a\u6709XID event binlog-checksum\u53c2\u6570\uff0c\u7528\u6765\u9a8c\u8bc1binlog\u7684\u5b8c\u6574\u6027 redo log \u4e0ebinlog\u5173\u8054 \u5171\u6709\u6570\u636e\u5b57\u6bb5XID\uff0c\u5d29\u6e83\u6062\u590d\u65f6\u626b\u63cfredo log\u7684 redolog \u6709commit\uff0c\u63d0\u4ea4\u4e8b\u52a1 redolog \u53ea\u6709prepare\uff0c\u67e5\u8be2binlog\uff0cbinlog \u5b8c\u6574\u63d0\u4ea4\u4e8b\u52a1\uff0c\u5426\u5219\u56de\u6eda\u4e8b\u52a1 redolog \u53ea\u6709prepare\uff0cbinlog\u5b8c\u6574\uff0c\u63d0\u4ea4\u4e8b\u52a1\u7684\u539f\u56e0\u662f\uff0cbinlog\u5df2\u7ecf\u88ab\u4ece\u5e93\u4f7f\u7528\uff0c\u4fdd\u8bc1\u4e3b\u4ece\u6570\u636e\u4e00\u81f4\u6027\uff0c\u624d\u9700\u8981\u63d0\u4ea4\u4e8b\u52a1 redo log buffer \u7f13\u5b58redo log\u8bb0\u5f55\u65e5\u5fd7 \u4e8b\u52a1commit\u540e redolog buffer \u6e05\u7a7a\uff0credo log \u5199\u5165\u6587\u4ef6","title":"\u4e24\u9636\u6bb5\u63d0\u4ea4"},{"location":"mysql/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4_%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D/#_1","text":"","title":"\u4e24\u9636\u6bb5\u63d0\u4ea4"},{"location":"mysql/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4_%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D/#a","text":"binlog\u672a\u5199\uff0credolog\u672a\u63d0\u4ea4 \u91cd\u542f\u540e\u4e8b\u52a1\u76f4\u63a5\u56de\u6eda","title":"\u65f6\u523bA\u5d29\u6e83"},{"location":"mysql/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4_%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D/#b","text":"redo log \u4e8b\u52a1 \u5b8c\u6574\uff0credo loga \u5df2\u7ecf\u6709\u4e86commit \u8868\u793a\uff0c\u63d0\u4ea4\u4e8b\u52a1 redo log \u4e8b\u52a1\u53ea\u6709\u5b8c\u6574\u7684prepare\uff0c\u5224\u65ad\u5bf9\u5e94\u4e8b\u52a1\u7684binlog\u662f\u5426\u5b8c\u6574 binlog\u5b8c\u6574\uff0c\u63d0\u4ea4\u4e8b\u52a1 binlog\u4e0d\u5b8c\u6574\uff0c\u56de\u6eda\u4e8b\u52a1","title":"\u65f6\u523bB\u5d29\u6e83\uff0c\u5d29\u6e83\u6062\u590d\u5224\u65ad\u89c4\u5219"},{"location":"mysql/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4_%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D/#binlog","text":"statement\u683c\u5f0f\u7684binlog\uff0c\u6700\u540e\u4f1a\u6709COMMIT row\u683c\u5f0f\u7684binlog\uff0c\u6700\u540e\u4f1a\u6709XID event binlog-checksum\u53c2\u6570\uff0c\u7528\u6765\u9a8c\u8bc1binlog\u7684\u5b8c\u6574\u6027","title":"\u5224\u65adbinlog \u5b8c\u6574"},{"location":"mysql/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4_%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D/#redo-log-binlog","text":"\u5171\u6709\u6570\u636e\u5b57\u6bb5XID\uff0c\u5d29\u6e83\u6062\u590d\u65f6\u626b\u63cfredo log\u7684 redolog \u6709commit\uff0c\u63d0\u4ea4\u4e8b\u52a1 redolog \u53ea\u6709prepare\uff0c\u67e5\u8be2binlog\uff0cbinlog \u5b8c\u6574\u63d0\u4ea4\u4e8b\u52a1\uff0c\u5426\u5219\u56de\u6eda\u4e8b\u52a1 redolog \u53ea\u6709prepare\uff0cbinlog\u5b8c\u6574\uff0c\u63d0\u4ea4\u4e8b\u52a1\u7684\u539f\u56e0\u662f\uff0cbinlog\u5df2\u7ecf\u88ab\u4ece\u5e93\u4f7f\u7528\uff0c\u4fdd\u8bc1\u4e3b\u4ece\u6570\u636e\u4e00\u81f4\u6027\uff0c\u624d\u9700\u8981\u63d0\u4ea4\u4e8b\u52a1","title":"redo log \u4e0ebinlog\u5173\u8054"},{"location":"mysql/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4_%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D/#redo-log-buffer","text":"\u7f13\u5b58redo log\u8bb0\u5f55\u65e5\u5fd7 \u4e8b\u52a1commit\u540e redolog buffer \u6e05\u7a7a\uff0credo log \u5199\u5165\u6587\u4ef6","title":"redo log buffer"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/","text":"\u4e8b\u52a1\u56db\u5927\u7279\u6027 \u9694\u79bb\u6027 \u4e00\u81f4\u6027 \u539f\u5b50\u6027 \u6301\u4e45\u6027 \u4e8b\u52a1\u540c\u65f6\u5b58\u5728\u4ea7\u751f\u7684\u95ee\u9898 \u810f\u8bfb \u5e7b\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb \u6807\u51c6\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b \u8bfb\u672a\u63d0\u4ea4\uff1a\u4e00\u4e2a\u4e8b\u52a1\u8fd8\u6ca1\u63d0\u4ea4\u65f6\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u5c31\u80fd\u88ab\u522b\u7684\u4e8b\u52a1\u770b\u5230 \u8bfb\u63d0\u4ea4\uff1a\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u624d\u4f1a\u88ab\u5176\u4ed6\u4e8b\u52a1\u770b\u5230\u3002 \u53ef\u91cd\u590d\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u770b\u5230\u7684\u6570\u636e\uff0c\u603b\u662f\u8ddf\u8fd9\u4e2a\u4e8b\u52a1\u5728\u542f\u52a8\u65f6\u770b\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002\u5f53\u7136\u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u672a\u63d0\u4ea4\u53d8\u66f4\u5bf9\u5176\u4ed6\u4e8b\u52a1\u4e5f\u662f\u4e0d\u53ef\u89c1\u7684 \u4e32\u884c\u5316\uff1a\u6309\u987a\u5e8f\u6267\u884c\u4e8b\u52a1\uff0c\u4e0d\u5e76\u53d1\u6267\u884c \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE-READ; \u89c6\u56fe\u521b\u5efa \u53ef\u91cd\u590d\u5ea6\uff1a\u5728\u4e8b\u52a1\u542f\u52a8\u7684\u65f6\u5019\u521b\u5efa \u8bfb\u63d0\u4ea4\uff1a\u5728sql\u5f00\u59cb\u6267\u884c\u7684\u65f6\u5019\u521b\u5efa\u89c6\u56fe \u8bfb\u672a\u63d0\u4ea4\uff1a\u76f4\u63a5\u8bfb\u53d6\u8bb0\u5f55\u7684\u6700\u65b0\u503c\uff0c\u4e0d\u7528\u521b\u5efa\u89c6\u56fe \u4e32\u884c\u5316\uff1a\u7528\u52a0\u9501\u6765\u63a7\u5236\u4e8b\u52a1\uff0c\u4e0d\u9700\u8981\u89c6\u56fe MVCC \u6bcf\u6b21\u5bf9\u8bb0\u5f55\u66f4\u65b0\u65f6\uff0c\u90fd\u4f1a\u8bb0\u5f55\u4e00\u6761\u56de\u6eda\u65e5\u5fd7\u3002\u901a\u8fc7\u56de\u6eda\u65e5\u5fd7\u53ef\u4ee5\u5c06\u8bb0\u5f55\u8fd8\u539f\u5230\u66f4\u65b0\u524d\u7684\u72b6\u6001 \u4e00\u6761\u6570\u636e\u5e93\u8bb0\u5f55\uff0c\u5728\u591a\u4e2a\u4e8b\u52a1\u4e2d\u4f1a\u6709\u4e0d\u540c\u7684\u7248\u672c\uff0c\u4e0d\u540c\u7684read-view \u4e8b\u52a1\u7684\u542f\u52a8\u65b9\u5f0f begin \u6216 start transaction\u3002\u914d\u5957\u7684\u63d0\u4ea4\u8bed\u53e5\u662f commit\uff0c\u56de\u6eda\u8bed\u53e5\u662f rollback set autocommit=0\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5c06\u8fd9\u4e2a\u7ebf\u7a0b\u7684\u81ea\u52a8\u63d0\u4ea4\u5173\u6389\u3002\u4e8b\u52a1\u6301\u7eed\u5b58\u5728\u76f4\u5230\u4e3b\u52a8\u6267\u884c commit \u6216 rollback \u8bed\u53e5\u6216\u65ad\u5f00\u94fe\u63a5 commit work and chain \u8bed\u6cd5 \u63d0\u4ea4\u4e00\u4e2a\u4e8b\u52a1\u540e\u81ea\u52a8\u5f00\u542f\u4e0b\u4e00\u4e2a\u4e8b\u52a1 \u4e8b\u52a1\u7248\u672c\u63a7\u5236 \u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u6570\u636e\u7248\u672c\u4e0e\u4e8b\u52a1\u89c6\u56fe \u7248\u672c\u672a\u63d0\u4ea4\uff0c\u4e0d\u53ef\u89c1 \u6570\u636e\u7248\u672c\u5df2\u7ecf\u63d0\u4ea4\uff0c\u4f46\u662f\u662f\u5728\u4e8b\u52a1\u89c6\u56fe\u521b\u5efa\u540e\u63d0\u4ea4\u7684\uff0c\u4e0d\u53ef\u89c1 \u6570\u636e\u7248\u672c\u5df2\u7ecf\u63d0\u4ea4\uff0c\u5728\u4e8b\u52a1\u89c6\u56fe\u521b\u5efa\u4e4b\u524d\u63d0\u4ea4\u7684\uff0c\u53ef\u89c1 \u66f4\u65b0\u6570\u636e\u65f6\uff0c\u6570\u636e\u7248\u672c\u4e0e\u4e8b\u52a1\u89c6\u56fe \u66f4\u65b0\u6570\u636e\u65f6\uff0c\u4e0d\u80fd\u5728\u5386\u53f2\u7248\u672c\u4e0a\u66f4\u65b0\uff0c\u4f1a\u5bfc\u81f4\u65b0\u7248\u672c\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1\u66f4\u65b0\u5931\u6548 \u66f4\u65b0\u6570\u636e\u90fd\u662f\u5148\u8bfb\u540e\u5199\u7684\uff0c\u53ea\u80fd\u7528\u5f53\u524d\u8bfb\uff0c\u4e5f\u5c31\u662f\u8bfb\u5f53\u524d\u7684\u503c select \u8bed\u53e5\u52a0\u4e86 for update \u6216\u8005\u662f lock in share mode \u4e5f\u662f\u5f53\u524d\u8bfb \u4e24\u4e2a\u4e8b\u52a1\u540c\u65f6\u66f4\u65b0\u540c\u4e00\u884c\u6570\u636e\uff0c\u5148\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u6301\u6709MDL","title":"\u4e8b\u52a1\u9694\u79bb"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_1","text":"\u9694\u79bb\u6027 \u4e00\u81f4\u6027 \u539f\u5b50\u6027 \u6301\u4e45\u6027","title":"\u4e8b\u52a1\u56db\u5927\u7279\u6027"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_2","text":"\u810f\u8bfb \u5e7b\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb","title":"\u4e8b\u52a1\u540c\u65f6\u5b58\u5728\u4ea7\u751f\u7684\u95ee\u9898"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_3","text":"\u8bfb\u672a\u63d0\u4ea4\uff1a\u4e00\u4e2a\u4e8b\u52a1\u8fd8\u6ca1\u63d0\u4ea4\u65f6\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u5c31\u80fd\u88ab\u522b\u7684\u4e8b\u52a1\u770b\u5230 \u8bfb\u63d0\u4ea4\uff1a\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u624d\u4f1a\u88ab\u5176\u4ed6\u4e8b\u52a1\u770b\u5230\u3002 \u53ef\u91cd\u590d\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u770b\u5230\u7684\u6570\u636e\uff0c\u603b\u662f\u8ddf\u8fd9\u4e2a\u4e8b\u52a1\u5728\u542f\u52a8\u65f6\u770b\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002\u5f53\u7136\u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u672a\u63d0\u4ea4\u53d8\u66f4\u5bf9\u5176\u4ed6\u4e8b\u52a1\u4e5f\u662f\u4e0d\u53ef\u89c1\u7684 \u4e32\u884c\u5316\uff1a\u6309\u987a\u5e8f\u6267\u884c\u4e8b\u52a1\uff0c\u4e0d\u5e76\u53d1\u6267\u884c \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE-READ;","title":"\u6807\u51c6\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_4","text":"\u53ef\u91cd\u590d\u5ea6\uff1a\u5728\u4e8b\u52a1\u542f\u52a8\u7684\u65f6\u5019\u521b\u5efa \u8bfb\u63d0\u4ea4\uff1a\u5728sql\u5f00\u59cb\u6267\u884c\u7684\u65f6\u5019\u521b\u5efa\u89c6\u56fe \u8bfb\u672a\u63d0\u4ea4\uff1a\u76f4\u63a5\u8bfb\u53d6\u8bb0\u5f55\u7684\u6700\u65b0\u503c\uff0c\u4e0d\u7528\u521b\u5efa\u89c6\u56fe \u4e32\u884c\u5316\uff1a\u7528\u52a0\u9501\u6765\u63a7\u5236\u4e8b\u52a1\uff0c\u4e0d\u9700\u8981\u89c6\u56fe","title":"\u89c6\u56fe\u521b\u5efa"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#mvcc","text":"\u6bcf\u6b21\u5bf9\u8bb0\u5f55\u66f4\u65b0\u65f6\uff0c\u90fd\u4f1a\u8bb0\u5f55\u4e00\u6761\u56de\u6eda\u65e5\u5fd7\u3002\u901a\u8fc7\u56de\u6eda\u65e5\u5fd7\u53ef\u4ee5\u5c06\u8bb0\u5f55\u8fd8\u539f\u5230\u66f4\u65b0\u524d\u7684\u72b6\u6001 \u4e00\u6761\u6570\u636e\u5e93\u8bb0\u5f55\uff0c\u5728\u591a\u4e2a\u4e8b\u52a1\u4e2d\u4f1a\u6709\u4e0d\u540c\u7684\u7248\u672c\uff0c\u4e0d\u540c\u7684read-view","title":"MVCC"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_5","text":"begin \u6216 start transaction\u3002\u914d\u5957\u7684\u63d0\u4ea4\u8bed\u53e5\u662f commit\uff0c\u56de\u6eda\u8bed\u53e5\u662f rollback set autocommit=0\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5c06\u8fd9\u4e2a\u7ebf\u7a0b\u7684\u81ea\u52a8\u63d0\u4ea4\u5173\u6389\u3002\u4e8b\u52a1\u6301\u7eed\u5b58\u5728\u76f4\u5230\u4e3b\u52a8\u6267\u884c commit \u6216 rollback \u8bed\u53e5\u6216\u65ad\u5f00\u94fe\u63a5 commit work and chain \u8bed\u6cd5 \u63d0\u4ea4\u4e00\u4e2a\u4e8b\u52a1\u540e\u81ea\u52a8\u5f00\u542f\u4e0b\u4e00\u4e2a\u4e8b\u52a1","title":"\u4e8b\u52a1\u7684\u542f\u52a8\u65b9\u5f0f"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_6","text":"","title":"\u4e8b\u52a1\u7248\u672c\u63a7\u5236"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_7","text":"\u7248\u672c\u672a\u63d0\u4ea4\uff0c\u4e0d\u53ef\u89c1 \u6570\u636e\u7248\u672c\u5df2\u7ecf\u63d0\u4ea4\uff0c\u4f46\u662f\u662f\u5728\u4e8b\u52a1\u89c6\u56fe\u521b\u5efa\u540e\u63d0\u4ea4\u7684\uff0c\u4e0d\u53ef\u89c1 \u6570\u636e\u7248\u672c\u5df2\u7ecf\u63d0\u4ea4\uff0c\u5728\u4e8b\u52a1\u89c6\u56fe\u521b\u5efa\u4e4b\u524d\u63d0\u4ea4\u7684\uff0c\u53ef\u89c1","title":"\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u6570\u636e\u7248\u672c\u4e0e\u4e8b\u52a1\u89c6\u56fe"},{"location":"mysql/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB/#_8","text":"\u66f4\u65b0\u6570\u636e\u65f6\uff0c\u4e0d\u80fd\u5728\u5386\u53f2\u7248\u672c\u4e0a\u66f4\u65b0\uff0c\u4f1a\u5bfc\u81f4\u65b0\u7248\u672c\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1\u66f4\u65b0\u5931\u6548 \u66f4\u65b0\u6570\u636e\u90fd\u662f\u5148\u8bfb\u540e\u5199\u7684\uff0c\u53ea\u80fd\u7528\u5f53\u524d\u8bfb\uff0c\u4e5f\u5c31\u662f\u8bfb\u5f53\u524d\u7684\u503c select \u8bed\u53e5\u52a0\u4e86 for update \u6216\u8005\u662f lock in share mode \u4e5f\u662f\u5f53\u524d\u8bfb \u4e24\u4e2a\u4e8b\u52a1\u540c\u65f6\u66f4\u65b0\u540c\u4e00\u884c\u6570\u636e\uff0c\u5148\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u6301\u6709MDL","title":"\u66f4\u65b0\u6570\u636e\u65f6\uff0c\u6570\u636e\u7248\u672c\u4e0e\u4e8b\u52a1\u89c6\u56fe"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/","text":"\u4f5c\u8005\u603b\u7ed3 \u4e2a\u4eba\u5b66\u4e60 \u4e24\u4e2a\u539f\u5219 \u52a0\u9501\u7684\u57fa\u672c\u5355\u4f4d\u662fnext-key-lock\uff0c\u524d\u5f00\u540e\u95ed\u7684\u533a\u95f4 \u67e5\u8be2\u8fc7\u7a0b\u4e2d\u8bbf\u95ee\u5230\u7684\u5bf9\u8c61\u624d\u4f1a\u52a0\u9501 \u4e24\u4e2a\u4f18\u5316 \u7d22\u5f15\u4e0a\u7684\u7b49\u503c\u67e5\u8be2\uff0c\u7ed9\u552f\u4e00\u7d22\u5f15\u52a0\u9501\u7684\u540enext-key-lock\u4f1a\u9000\u5316\u6210\u884c\u9501 \u7d22\u5f15\u4e0a\u7684\u7b49\u503c\u67e5\u8be2\uff0c\u5411\u53f3\u904d\u5386\u65f6\u4e14\u6700\u540e\u4e00\u4e2a\u503c\u4e0d\u6ee1\u8db3\u7b49\u503c\u6761\u4ef6\u7684\u65f6\u5019\uff0cnext-key-lock\u9000\u5316\u4e3a\u95f4\u9699\u9501 \u4e00\u4e2abug \u552f\u4e00\u7d22\u5f15\u4e0a\u7684\u8303\u56f4\u67e5\u8be2\u4f1a\u8bbf\u95ee\u5230\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u7b2c\u4e00\u4e2a\u503c\u4e3a\u6b62 \u662f\u5426\u9501\u4e3b\u952e\u7d22\u5f15 \u8986\u76d6\u7d22\u5f15\u7684\u60c5\u51b5lock in share mode \u4e0d\u4f1a\u9501\u4e3b\u952e\u7d22\u5f15 select * for update \u4f1a\u9501\u4e3b\u952e SQL CREATE TABLE `t` ( `id` int(11) NOT NULL, `c` int(11) DEFAULT NULL, `d` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `c` (`c`) ) ENGINE=InnoDB; insert into t values(0,0,0),(5,5,5), (10,10,10),(15,15,15),(20,20,20),(25,25,25); \u7b49\u503c\u67e5\u8be2\u95f4\u9699\u9501 \u975e\u552f\u4e00\u7d22\u5f15\u7b49\u503c\u9501 \u4e3b\u952e\u7d22\u5f15\u8303\u56f4\u9501 \u975e\u552f\u4e00\u7d22\u5f15\u8303\u56f4\u9501 \u552f\u4e00\u7d22\u5f15\u8303\u56f4\u9501 \u4e00\u4e2abug \u975e\u552f\u4e00\u7d22\u5f15\u4e0a\u5b58\u5728\u7b49\u503c\u7684\u4f8b\u5b50 limit\u8bed\u53e5\u52a0\u9501 \u5220\u9664\u6570\u636e\u7684\u65f6\u5019\u5c3d\u91cf\u6dfb\u52a0limit\uff0c\u53ef\u4ee5\u63a7\u5236\u5220\u9664\u6570\u636e\u7684\u6761\u6570\uff0c\u51cf\u5c0f\u9501\u7684\u8303\u56f4","title":"\u53ef\u91cd\u590d\u8bfb"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_1","text":"\u4e2a\u4eba\u5b66\u4e60","title":"\u4f5c\u8005\u603b\u7ed3"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_2","text":"\u52a0\u9501\u7684\u57fa\u672c\u5355\u4f4d\u662fnext-key-lock\uff0c\u524d\u5f00\u540e\u95ed\u7684\u533a\u95f4 \u67e5\u8be2\u8fc7\u7a0b\u4e2d\u8bbf\u95ee\u5230\u7684\u5bf9\u8c61\u624d\u4f1a\u52a0\u9501","title":"\u4e24\u4e2a\u539f\u5219"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_3","text":"\u7d22\u5f15\u4e0a\u7684\u7b49\u503c\u67e5\u8be2\uff0c\u7ed9\u552f\u4e00\u7d22\u5f15\u52a0\u9501\u7684\u540enext-key-lock\u4f1a\u9000\u5316\u6210\u884c\u9501 \u7d22\u5f15\u4e0a\u7684\u7b49\u503c\u67e5\u8be2\uff0c\u5411\u53f3\u904d\u5386\u65f6\u4e14\u6700\u540e\u4e00\u4e2a\u503c\u4e0d\u6ee1\u8db3\u7b49\u503c\u6761\u4ef6\u7684\u65f6\u5019\uff0cnext-key-lock\u9000\u5316\u4e3a\u95f4\u9699\u9501","title":"\u4e24\u4e2a\u4f18\u5316"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#bug","text":"\u552f\u4e00\u7d22\u5f15\u4e0a\u7684\u8303\u56f4\u67e5\u8be2\u4f1a\u8bbf\u95ee\u5230\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u7b2c\u4e00\u4e2a\u503c\u4e3a\u6b62","title":"\u4e00\u4e2abug"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_4","text":"\u8986\u76d6\u7d22\u5f15\u7684\u60c5\u51b5lock in share mode \u4e0d\u4f1a\u9501\u4e3b\u952e\u7d22\u5f15 select * for update \u4f1a\u9501\u4e3b\u952e","title":"\u662f\u5426\u9501\u4e3b\u952e\u7d22\u5f15"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#sql","text":"CREATE TABLE `t` ( `id` int(11) NOT NULL, `c` int(11) DEFAULT NULL, `d` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `c` (`c`) ) ENGINE=InnoDB; insert into t values(0,0,0),(5,5,5), (10,10,10),(15,15,15),(20,20,20),(25,25,25);","title":"SQL"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_5","text":"","title":"\u7b49\u503c\u67e5\u8be2\u95f4\u9699\u9501"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_6","text":"","title":"\u975e\u552f\u4e00\u7d22\u5f15\u7b49\u503c\u9501"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_7","text":"","title":"\u4e3b\u952e\u7d22\u5f15\u8303\u56f4\u9501"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_8","text":"","title":"\u975e\u552f\u4e00\u7d22\u5f15\u8303\u56f4\u9501"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#bug_1","text":"","title":"\u552f\u4e00\u7d22\u5f15\u8303\u56f4\u9501 \u4e00\u4e2abug"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#_9","text":"","title":"\u975e\u552f\u4e00\u7d22\u5f15\u4e0a\u5b58\u5728\u7b49\u503c\u7684\u4f8b\u5b50"},{"location":"mysql/%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%8A%A0%E9%94%81%E8%A7%84%E5%88%99/#limit","text":"\u5220\u9664\u6570\u636e\u7684\u65f6\u5019\u5c3d\u91cf\u6dfb\u52a0limit\uff0c\u53ef\u4ee5\u63a7\u5236\u5220\u9664\u6570\u636e\u7684\u6761\u6570\uff0c\u51cf\u5c0f\u9501\u7684\u8303\u56f4","title":"limit\u8bed\u53e5\u52a0\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/","text":"\u9501 \u5168\u5c40\u9501 \u8868\u7ea7\u9501 \u884c\u9501 \u5168\u5c40\u9501 \u5bf9\u6574\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u52a0\u9501 Flush tables with read lock \u9700\u8981\u6574\u4e2a\u6570\u636e\u5e93\u5904\u4e8e\u53ea\u8bfb\u72b6\u6001\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u9501 \u6267\u884c\u547d\u4ee4\u8fde\u63a5\u65ad\u5f00\u540e\uff0c\u6570\u636e\u5e93\u6062\u590d\u53ef\u5199\u72b6\u6001 \u963b\u585e\u4ee5\u4e0b\u8bed\u53e5 \u6570\u636e\u7684\u589e\u5220\u6539\u67e5 \u6570\u636e\u5b9a\u4e49\u8bed\u53e5\uff0c\u5305\u62ec\u5efa\u8868\u548c\u4fee\u6539\u8868\u7ed3\u6784\u8bed\u53e5 \u66f4\u65b0\u7c7b\u4e8b\u52a1\u7684\u63d0\u4ea4\u8bed\u53e5 \u5178\u578b\u4f7f\u7528\u573a\u666f\uff0c\u5168\u5e93\u903b\u8f91\u5907\u4efd \u8868\u7ea7\u9501 \u8868\u9501 MDL metadata lock\u5143\u6570\u636e\u9501 \u8868\u9501 lock tables ... read/write unlock tables \u4e3b\u52a8\u91ca\u653e\u9501 \u9501\u4f4f\u5176\u4ed6\u7ebf\u7a0b\u548c\u81ea\u5df1\u672c\u8eab MDL\u9501 metadata lock MDL\u4e0d\u9700\u8981\u663e\u793a\u4f7f\u7528\uff0c\u5728\u8bbf\u95ee\u4e00\u4e2a\u8868\u7684\u65f6\u5019\u4f1a\u88ab\u81ea\u52a8\u52a0\u4e0a \u7528\u6765\u4fdd\u8bc1\u8bfb\u5199\u7684\u6b63\u786e\u6027 \u5f53\u5bf9\u4e00\u4e2a\u8868\u8fdb\u884c\u589e\u5220\u6539\u67e5\u7684\u65f6\u5019\u52a0MDL\u8bfb\u9501 \u5f53\u5bf9\u8868\u7ed3\u6784\u505a\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u52a0\u4e00\u4e2aMDL\u5199\u9501 \u8bfb\u9501\u4e4b\u95f4\u4e0d\u4e92\u65a5\uff0c\u56e0\u6b64\u4e00\u4e2a\u8868\u53ef\u4ee5\u6709\u591a\u4e2a\u589e\u5220\u6539\u67e5 \u8bfb\u5199\u9501\u4e4b\u95f4\uff0c\u5199\u9501\u4e4b\u95f4\u662f\u4e92\u65a5\u7684\uff0c\u7528\u6765\u4fdd\u8bc1\u53d8\u66f4\u8868\u7ed3\u6784\u64cd\u4f5c\u7684\u5b89\u5168\u6027 MDL\u4f1a\u6301\u7eed\u5230\u4e8b\u52a1\u63d0\u4ea4\u624d\u91ca\u653e\uff0c\u505a\u8868\u7ed3\u6784\u53d8\u66f4\u7684\u65f6\u5019\u5bb9\u6613\u9501\u4f4f\u7ebf\u4e0a\u7684\u67e5\u8be2\u548c\u66f4\u65b0 \u884c\u9501 \u9488\u5bf9\u6570\u636e\u8868\u4e2d\u884c\u8bb0\u5f55\u7684\u9501 \u4e24\u9636\u6bb5\u9501 \u884c\u9501\u5728\u9700\u8981\u7684\u65f6\u5019\u88ab\u52a0\u4e0a\uff0c\u4f46\u662f\u4e0d\u4f1a\u7acb\u523b\u91ca\u653e\uff0c\u8981\u7b49\u5230\u4e8b\u52a1\u7ed3\u675f\u65f6\u624d\u91ca\u653e \u4e8b\u52a1\u4e2d\u9700\u8981\u9501\u591a\u4e2a\u884c\uff0c\u628a\u6700\u53ef\u80fd\u9020\u6210\u884c\u9501\u51b2\u7a81\uff0c\u6700\u53ef\u80fd\u5f71\u54cd\u5e76\u53d1\u5ea6\u7684\u9501\u5c3d\u91cf\u5f80\u540e\u653e \u6b7b\u9501 \u5e76\u53d1\u7cfb\u7edf\u4e2d\u4e0d\u540c\u7ebf\u7a0b\u51fa\u73b0\u8d44\u6e90\u4f9d\u8d56\uff0c\u6d89\u53ca\u7684\u7ebf\u7a0b\u90fd\u5728\u7b49\u5f85\u5176\u4ed6\u7ebf\u7a0b\u91ca\u653e\u8d44\u6e90\uff0c\u5bfc\u81f4\u7ebf\u7a0b\u8fdb\u5165\u65e0\u9650\u7b49\u5f85\u72b6\u6001\uff0c\u5c31\u662f\u6b7b\u9501 \u6b7b\u9501\u7b56\u7565 \u76f4\u63a5\u8fdb\u5165\u7b49\u5f85\uff0c\u76f4\u5230\u8d85\u65f6\uff0c\u8d85\u65f6\u65f6\u95f4\u901a\u8fc7innodb_lock_wait_timeout\u6765\u8bbe\u7f6e \u53d1\u8d77\u6b7b\u9501\u68c0\u6d4b\uff0c\u53d1\u73b0\u6b7b\u9501\u540e\uff0c\u4e3b\u52a8\u56de\u6eda\u6b7b\u9501\u94fe\u6761\u4e2d\u7684\u67d0\u4e00\u4e2a\u4e8b\u52a1\uff0c\u8ba9\u5176\u4ed6\u4e8b\u52a1\u5f97\u4ee5\u7ee7\u7eed\u6267\u884c\uff0c\u53c2\u6570innodb_deadlock_detect \u8bbe\u7f6e\u4e3aon \u4e3b\u52a8\u6b7b\u9501\u68c0\u6d4b \u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u68c0\u67e5\u4f1a\u4e0d\u4f1a\u56e0\u4e3a\u81ea\u5df1\u7684\u52a0\u5165\u5bfc\u81f4\u4e86\u6b7b\u9501\uff0c\u7ebf\u7a0b\u6570\u91cf\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5faa\u73af\u68c0\u6d4b\u4f1a\u8017\u8d39\u5927\u91cfCPU \u89e3\u51b3\u65b9\u6848 \u5173\u95ed\u6b7b\u9501\u68c0\u6d4b\uff0c\u6b7b\u9501\u7b49\u5f85\u8d85\u65f6\u62a5\u9519\u540e\uff0c\u4e1a\u52a1\u91cd\u8bd5 \u63a7\u5236\u5e76\u53d1\u7ebf\u7a0b\u6570\u91cf \u8c03\u6574\u4e1a\u52a1\u903b\u8f91\uff0c\u987a\u5e8f\u65e0\u5173\u7684\u903b\u8f91\u968f\u673a\u9009\u62e9\u4e00\u6761\u6267\u884c","title":"\u5404\u79cd\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_1","text":"\u5168\u5c40\u9501 \u8868\u7ea7\u9501 \u884c\u9501","title":"\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_2","text":"\u5bf9\u6574\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u52a0\u9501 Flush tables with read lock \u9700\u8981\u6574\u4e2a\u6570\u636e\u5e93\u5904\u4e8e\u53ea\u8bfb\u72b6\u6001\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u9501 \u6267\u884c\u547d\u4ee4\u8fde\u63a5\u65ad\u5f00\u540e\uff0c\u6570\u636e\u5e93\u6062\u590d\u53ef\u5199\u72b6\u6001 \u963b\u585e\u4ee5\u4e0b\u8bed\u53e5 \u6570\u636e\u7684\u589e\u5220\u6539\u67e5 \u6570\u636e\u5b9a\u4e49\u8bed\u53e5\uff0c\u5305\u62ec\u5efa\u8868\u548c\u4fee\u6539\u8868\u7ed3\u6784\u8bed\u53e5 \u66f4\u65b0\u7c7b\u4e8b\u52a1\u7684\u63d0\u4ea4\u8bed\u53e5 \u5178\u578b\u4f7f\u7528\u573a\u666f\uff0c\u5168\u5e93\u903b\u8f91\u5907\u4efd","title":"\u5168\u5c40\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_3","text":"\u8868\u9501 MDL metadata lock\u5143\u6570\u636e\u9501","title":"\u8868\u7ea7\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_4","text":"lock tables ... read/write unlock tables \u4e3b\u52a8\u91ca\u653e\u9501 \u9501\u4f4f\u5176\u4ed6\u7ebf\u7a0b\u548c\u81ea\u5df1\u672c\u8eab","title":"\u8868\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#mdl-metadata-lock","text":"MDL\u4e0d\u9700\u8981\u663e\u793a\u4f7f\u7528\uff0c\u5728\u8bbf\u95ee\u4e00\u4e2a\u8868\u7684\u65f6\u5019\u4f1a\u88ab\u81ea\u52a8\u52a0\u4e0a \u7528\u6765\u4fdd\u8bc1\u8bfb\u5199\u7684\u6b63\u786e\u6027 \u5f53\u5bf9\u4e00\u4e2a\u8868\u8fdb\u884c\u589e\u5220\u6539\u67e5\u7684\u65f6\u5019\u52a0MDL\u8bfb\u9501 \u5f53\u5bf9\u8868\u7ed3\u6784\u505a\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u52a0\u4e00\u4e2aMDL\u5199\u9501 \u8bfb\u9501\u4e4b\u95f4\u4e0d\u4e92\u65a5\uff0c\u56e0\u6b64\u4e00\u4e2a\u8868\u53ef\u4ee5\u6709\u591a\u4e2a\u589e\u5220\u6539\u67e5 \u8bfb\u5199\u9501\u4e4b\u95f4\uff0c\u5199\u9501\u4e4b\u95f4\u662f\u4e92\u65a5\u7684\uff0c\u7528\u6765\u4fdd\u8bc1\u53d8\u66f4\u8868\u7ed3\u6784\u64cd\u4f5c\u7684\u5b89\u5168\u6027 MDL\u4f1a\u6301\u7eed\u5230\u4e8b\u52a1\u63d0\u4ea4\u624d\u91ca\u653e\uff0c\u505a\u8868\u7ed3\u6784\u53d8\u66f4\u7684\u65f6\u5019\u5bb9\u6613\u9501\u4f4f\u7ebf\u4e0a\u7684\u67e5\u8be2\u548c\u66f4\u65b0","title":"MDL\u9501 metadata lock"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_5","text":"\u9488\u5bf9\u6570\u636e\u8868\u4e2d\u884c\u8bb0\u5f55\u7684\u9501","title":"\u884c\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_6","text":"\u884c\u9501\u5728\u9700\u8981\u7684\u65f6\u5019\u88ab\u52a0\u4e0a\uff0c\u4f46\u662f\u4e0d\u4f1a\u7acb\u523b\u91ca\u653e\uff0c\u8981\u7b49\u5230\u4e8b\u52a1\u7ed3\u675f\u65f6\u624d\u91ca\u653e \u4e8b\u52a1\u4e2d\u9700\u8981\u9501\u591a\u4e2a\u884c\uff0c\u628a\u6700\u53ef\u80fd\u9020\u6210\u884c\u9501\u51b2\u7a81\uff0c\u6700\u53ef\u80fd\u5f71\u54cd\u5e76\u53d1\u5ea6\u7684\u9501\u5c3d\u91cf\u5f80\u540e\u653e","title":"\u4e24\u9636\u6bb5\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_7","text":"\u5e76\u53d1\u7cfb\u7edf\u4e2d\u4e0d\u540c\u7ebf\u7a0b\u51fa\u73b0\u8d44\u6e90\u4f9d\u8d56\uff0c\u6d89\u53ca\u7684\u7ebf\u7a0b\u90fd\u5728\u7b49\u5f85\u5176\u4ed6\u7ebf\u7a0b\u91ca\u653e\u8d44\u6e90\uff0c\u5bfc\u81f4\u7ebf\u7a0b\u8fdb\u5165\u65e0\u9650\u7b49\u5f85\u72b6\u6001\uff0c\u5c31\u662f\u6b7b\u9501","title":"\u6b7b\u9501"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_8","text":"\u76f4\u63a5\u8fdb\u5165\u7b49\u5f85\uff0c\u76f4\u5230\u8d85\u65f6\uff0c\u8d85\u65f6\u65f6\u95f4\u901a\u8fc7innodb_lock_wait_timeout\u6765\u8bbe\u7f6e \u53d1\u8d77\u6b7b\u9501\u68c0\u6d4b\uff0c\u53d1\u73b0\u6b7b\u9501\u540e\uff0c\u4e3b\u52a8\u56de\u6eda\u6b7b\u9501\u94fe\u6761\u4e2d\u7684\u67d0\u4e00\u4e2a\u4e8b\u52a1\uff0c\u8ba9\u5176\u4ed6\u4e8b\u52a1\u5f97\u4ee5\u7ee7\u7eed\u6267\u884c\uff0c\u53c2\u6570innodb_deadlock_detect \u8bbe\u7f6e\u4e3aon","title":"\u6b7b\u9501\u7b56\u7565"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_9","text":"\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u68c0\u67e5\u4f1a\u4e0d\u4f1a\u56e0\u4e3a\u81ea\u5df1\u7684\u52a0\u5165\u5bfc\u81f4\u4e86\u6b7b\u9501\uff0c\u7ebf\u7a0b\u6570\u91cf\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5faa\u73af\u68c0\u6d4b\u4f1a\u8017\u8d39\u5927\u91cfCPU","title":"\u4e3b\u52a8\u6b7b\u9501\u68c0\u6d4b"},{"location":"mysql/%E5%90%84%E7%A7%8D%E9%94%81/#_10","text":"\u5173\u95ed\u6b7b\u9501\u68c0\u6d4b\uff0c\u6b7b\u9501\u7b49\u5f85\u8d85\u65f6\u62a5\u9519\u540e\uff0c\u4e1a\u52a1\u91cd\u8bd5 \u63a7\u5236\u5e76\u53d1\u7ebf\u7a0b\u6570\u91cf \u8c03\u6574\u4e1a\u52a1\u903b\u8f91\uff0c\u987a\u5e8f\u65e0\u5173\u7684\u903b\u8f91\u968f\u673a\u9009\u62e9\u4e00\u6761\u6267\u884c","title":"\u89e3\u51b3\u65b9\u6848"},{"location":"mysql/%E5%B9%BB%E8%AF%BB/","text":"\u5b9a\u4e49 \u4e00\u4e2a\u4e8b\u52a1\u5728\u524d\u540e\u4e24\u6b21\u67e5\u8be2\u540c\u4e00\u4e2a\u8303\u56f4\u7684\u65f6\u5019\uff0c\u540e\u4e00\u6b21\u67e5\u8be2\u770b\u5230\u4e86\u524d\u4e00\u6b21\u6ca1\u6709\u770b\u5230\u7684\u884c \u8bf4\u660e \u53ef\u91cd\u590d\u8bfbRR\u6a21\u5f0f\u4e0b\uff0c\u666e\u901a\u7684\u67e5\u8be2\u662f\u5feb\u7167\u8bfb\uff0c\u9700\u8981\u8fd8\u539f\u4e8b\u52a1\u542f\u52a8\u524d\u7684\u6700\u8fd1\u7684\u4e00\u6b21\u53ef\u89c1MVCC\u7248\u672c \u5f53\u524d\u8bfb\u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u80fd\u770b\u5230\u5e7b\u8bfb \u5e7b\u8bfb\u4ec5\u4e13\u6307\u65b0\u63d2\u5165\u7684\u884c \u95f4\u9699\u9501 gap lock \u89e3\u51b3\u5e7b\u8bfb \u53ea\u5728\u53ef\u91cd\u590d\u5ea6\u9694\u79bb\u7ea7\u522b\u4e0b\u624d\u751f\u6548 \u5f53\u524d\u8bfb for update \u6216 lock in share mode \u95f4\u9699\u9501\u4e4b\u95f4\u4e0d\u5b58\u5728\u51b2\u7a81\u5173\u7cfb \u95f4\u9699\u9501\u5f15\u5165\uff0c\u4f1a\u9501\u4f4f\u66f4\u5927\u8303\u56f4\uff0c\u4f1a\u5f71\u54cd\u5e76\u53d1\u5ea6 next-key lock \u95f4\u9699\u9501\u548c\u884c\u9501\u5408\u79f0next-key lock \u6bcf\u4e2anext-key lock\u90fd\u662f\u524d\u5f00\u540e\u95ed\u533a\u95f4 next-key lock \u5148\u52a0\u95f4\u9699\u9501\uff0c\u7136\u540e\u52a0\u884c\u9501 \u4e0d\u4f7f\u7528\u95f4\u9699\u9501\u89e3\u51b3\u5e7b\u8bfb \u9694\u79bb\u7ea7\u522b\u8bbe\u7f6e\u4e3a\u8bfb\u63d0\u4ea4 binlog\u8bbe\u7f6e\u4e3arow\u683c\u5f0f","title":"\u5e7b\u8bfb"},{"location":"mysql/%E5%B9%BB%E8%AF%BB/#_1","text":"\u4e00\u4e2a\u4e8b\u52a1\u5728\u524d\u540e\u4e24\u6b21\u67e5\u8be2\u540c\u4e00\u4e2a\u8303\u56f4\u7684\u65f6\u5019\uff0c\u540e\u4e00\u6b21\u67e5\u8be2\u770b\u5230\u4e86\u524d\u4e00\u6b21\u6ca1\u6709\u770b\u5230\u7684\u884c","title":"\u5b9a\u4e49"},{"location":"mysql/%E5%B9%BB%E8%AF%BB/#_2","text":"\u53ef\u91cd\u590d\u8bfbRR\u6a21\u5f0f\u4e0b\uff0c\u666e\u901a\u7684\u67e5\u8be2\u662f\u5feb\u7167\u8bfb\uff0c\u9700\u8981\u8fd8\u539f\u4e8b\u52a1\u542f\u52a8\u524d\u7684\u6700\u8fd1\u7684\u4e00\u6b21\u53ef\u89c1MVCC\u7248\u672c \u5f53\u524d\u8bfb\u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u80fd\u770b\u5230\u5e7b\u8bfb \u5e7b\u8bfb\u4ec5\u4e13\u6307\u65b0\u63d2\u5165\u7684\u884c","title":"\u8bf4\u660e"},{"location":"mysql/%E5%B9%BB%E8%AF%BB/#gap-lock","text":"\u53ea\u5728\u53ef\u91cd\u590d\u5ea6\u9694\u79bb\u7ea7\u522b\u4e0b\u624d\u751f\u6548 \u5f53\u524d\u8bfb for update \u6216 lock in share mode \u95f4\u9699\u9501\u4e4b\u95f4\u4e0d\u5b58\u5728\u51b2\u7a81\u5173\u7cfb \u95f4\u9699\u9501\u5f15\u5165\uff0c\u4f1a\u9501\u4f4f\u66f4\u5927\u8303\u56f4\uff0c\u4f1a\u5f71\u54cd\u5e76\u53d1\u5ea6","title":"\u95f4\u9699\u9501 gap lock \u89e3\u51b3\u5e7b\u8bfb"},{"location":"mysql/%E5%B9%BB%E8%AF%BB/#next-key-lock","text":"\u95f4\u9699\u9501\u548c\u884c\u9501\u5408\u79f0next-key lock \u6bcf\u4e2anext-key lock\u90fd\u662f\u524d\u5f00\u540e\u95ed\u533a\u95f4 next-key lock \u5148\u52a0\u95f4\u9699\u9501\uff0c\u7136\u540e\u52a0\u884c\u9501","title":"next-key lock"},{"location":"mysql/%E5%B9%BB%E8%AF%BB/#_3","text":"\u9694\u79bb\u7ea7\u522b\u8bbe\u7f6e\u4e3a\u8bfb\u63d0\u4ea4 binlog\u8bbe\u7f6e\u4e3arow\u683c\u5f0f","title":"\u4e0d\u4f7f\u7528\u95f4\u9699\u9501\u89e3\u51b3\u5e7b\u8bfb"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/","text":"WAL Write-Ahead Logging \u5148\u5199\u65e5\u5fd7\uff0c\u518d\u5199\u78c1\u76d8 redo log InnoDB\u5f15\u64ce\u7279\u6709\u7684\u65e5\u5fd7 \u66f4\u65b0\u8bb0\u5f55\u65f6\uff0c\u5148\u5199redo log\uff0c\u7136\u540e\u66f4\u65b0\u5185\u5b58\uff0c\u7136\u540e\u66f4\u65b0\u5c31\u5b8c\u6210\u4e86 InnoDB\u5f15\u64ce\u4f1a\u5728\u7cfb\u7edf\u6bd4\u8f83\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u5c06\u64cd\u4f5c\u8bb0\u5f55\u66f4\u65b0\u5230\u78c1\u76d8 redo log \u53ef\u5199\u5165\u7a7a\u95f4\u56fa\u5b9a\u5927\u5c0f\uff0c\u5faa\u73af\u5199\u5165 write pos \u5f53\u524d\u8bb0\u5f55\u7684\u4f4d\u7f6e checkpoint \u5f53\u524d\u8981\u64e6\u9664\u7684\u4f4d\u7f6e\uff0c\u5f80\u540e\u63a8\uff0c\u5e76\u4e14\u5faa\u73af\u7684\uff0c\u64e6\u9664\u8bb0\u5f55\u524d\u8981\u628a\u8bb0\u5f55\u66f4\u65b0\u5230\u6570\u636e\u6587\u4ef6 \u6709\u4e86redo log InnoDB\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u6570\u636e\u5e93\u53d1\u751f\u5f02\u5e38\u91cd\u542f\uff0c\u4e4b\u524d\u7684\u8bb0\u5f55\u4e5f\u4e0d\u4f1a\u4e22\u5931\uff0ccrash-safe redolog\u548cbinlog\u533a\u522b redo log\u662fInnoDB\u5f15\u64ce\u7279\u6709\u7684\uff0cbinlog\u662fMySQL\u7684Server\u5c42\u5b9e\u73b0\u7684\uff0c\u6240\u6709\u5f15\u64ce\u90fd\u53ef\u4ee5\u4f7f\u7528 redo log\u662f\u7269\u7406\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7684\u662f\u5728\u67d0\u4e2a\u6570\u636e\u9875\u4e0a\u505a\u4e86\u4ec0\u4e48\u4fee\u6539\uff0cbinlog\u662f\u903b\u8f91\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7684\u662f\u8fd9\u4e2a\u8bed\u53e5\u7684\u539f\u59cb\u903b\u8f91 redo log \u662f\u5faa\u73af\u5199\u7684\uff0c\u7a7a\u95f4\u56fa\u5b9a\u4e14\u4f1a\u7528\u5b8c\uff0cbinlog\u662f\u8ffd\u52a0\u5199\u5165\u7684\uff0c\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\u5199\u5b8c\u4f1a\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\uff0c\u5e76\u4e0d\u4f1a\u8986\u76d6\u4ee5\u524d\u7684\u65e5\u5fd7 \u66f4\u65b0\u6570\u636e\u6d41\u7a0b \u6267\u884c\u5668\u627e\u5230\u6570\u636e\uff0c\u6570\u636e\u5728\u5185\u5b58\u9875\u4e0a\u76f4\u63a5\u8fd4\u56de\u7ed9\u6267\u884c\u5668\uff0c\u4e0d\u5728\u5c31\u53bb\u78c1\u76d8\u4e0a\u67e5\u627e\u7136\u540e\u8fd4\u56de\u7ed9\u6267\u884c\u5668 \u6267\u884c\u5668\u4fee\u6539\u6570\u636e\uff0c\u8c03\u7528\u5f15\u64ce\u63a5\u53e3\uff0c\u5199\u5165\u65b0\u6570\u636e \u5f15\u64ce\u5c06\u65b0\u6570\u636e\u66f4\u65b0\u5230\u5185\u5b58\u4e2d\uff0c\u540c\u65f6\u5c06\u8fd9\u4e2a\u66f4\u65b0\u64cd\u4f5c\u8bb0\u5f55\u5230redolog\u91cc\u3002\u7136\u540eredolog\u5904\u4e8e prepare\u72b6\u6001\uff0c\u7136\u540e\u544a\u77e5\u6267\u884c\u5668\u53ef\u4ee5\u63d0\u4ea4\u4e8b\u52a1 \u6267\u884c\u5668\u751f\u6210binlog\uff0cbinlog\u5199\u5165\u78c1\u76d8 \u8c03\u7528\u5f15\u64ce\u7684\u63d0\u4ea4\u4e8b\u52a1\u63a5\u53e3\uff0c\u5f15\u64ce\u628a\u521a\u521a\u5199\u5165\u7684redolog\u6539\u6210\u63d0\u4ea4\u72b6\u6001\uff0c\u66f4\u65b0\u5b8c\u6210 \u4e24\u9636\u6bb5\u63d0\u4ea4 1 prepare\u9636\u6bb5 2 \u5199binlog 3 commit \u5f53\u57282\u4e4b\u524d\u5d29\u6e83\u65f6\uff0c\u91cd\u542f\u6062\u590d\uff1a\u540e\u53d1\u73b0\u6ca1\u6709commit\uff0c\u56de\u6eda\u3002\u5907\u4efd\u6062\u590d\uff1a\u6ca1\u6709binlog \u3002\u6570\u636e\u4e00\u81f4 \u5f53\u57283\u4e4b\u524d\u5d29\u6e83\uff0c\u91cd\u542f\u6062\u590d\uff1a\u867d\u6ca1\u6709commit\uff0c\u4f46\u6ee1\u8db3prepare\u548cbinlog\u5b8c\u6574\uff0c\u6240\u4ee5\u91cd\u542f\u540e\u4f1a\u81ea\u52a8commit\u3002\u5907\u4efd\uff1a\u6709binlog. \u6570\u636e\u4e00\u81f4 \u5237\u810f\u9875\u5230\u78c1\u76d8 flush redolog\u6ee1\u4e86\uff0c\u7136\u540e\u5237\u5230\u78c1\u76d8\u3002\u7cfb\u7edf\u4f1a\u505c\u6b62\u6240\u6709\u66f4\u65b0\u64cd\u4f5c \u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\uff0c\u9700\u8981\u65b0\u7684\u5185\u5b58\u9875\u7684\u65f6\u5019\uff0c\u6dd8\u6c70\u4e00\u4e9b\u6700\u4e45\u4e0d\u4f7f\u7528\u6570\u636e\u9875\uff0c\u6dd8\u6c70\u7684\u662f\u810f\u9875\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u5237\u65b0\u810f\u9875\u5230\u78c1\u76d8 mysql\u7cfb\u7edf\u7a7a\u95f2\u65f6\uff0c\u5237\u65b0\u810f\u9875\u5230\u78c1\u76d8 mysql \u6b63\u5e38\u5173\u95ed\uff0c\u5237\u65b0\u810f\u9875\u5230\u78c1\u76d8 \u6b63\u5e38\u5237\u810f\u9875\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u628a\u90bb\u5c45\u5982\u679c\u4e5f\u662f\u810f\u9875\u7684\u8bdd\u90fd\u5237\u6389\uff0c\u7136\u540e\u8fd8\u4f1a\u53bb\u7ee7\u7eed\u5224\u65ad\u90bb\u5c45\u7684\u90bb\u5c45\u662f\u4e0d\u662f\u4e5f\u662f\u810f\u9875\uff0c\u53ef\u4ee5\u901a\u8fc7 innodb_flush_neighbors \u8bbe\u7f6e\u4e3a0\uff0c\u5173\u95ed\u90bb\u5c45\u810f\u9875\u68c0\u6d4b change buffer \u5360\u7528buffer pool\u7684\u5bb9\u91cf \u66f4\u65b0\u7684\u6570\u636e\u9875\u5982\u679c\u5728\u5185\u5b58\u4e2d\u76f4\u63a5\u66f4\u65b0\uff0c\u4e0d\u5728\u5185\u5b58\u4e2d\u5c31\u4f1a\u5728change buffer\u4e2d\u8bb0\u5f55\u5bf9\u8bb0\u5f55\u7684\u64cd\u4f5c \u9700\u8981\u67e5\u8be2\u8be5\u8bb0\u5f55\u7684\u65f6\u5019\u5c31\u4f1a\u5c06\u6570\u636e\u9875\u8bfb\u5165\u5185\u5b58\uff0c\u5e94\u7528change buffer\u4e2d\u7684\u64cd\u4f5c \u53ef\u4ee5\u6301\u4e45\u5316\uff0c\u5728\u5185\u5b58\u4e2d\u6709\u62f7\u8d1d\u4e5f\u53ef\u4ee5\u5199\u5165\u5230\u78c1\u76d8\u4e0a \u51cf\u5c11\u4e86\u78c1\u76d8\u968f\u673a\u8bfb\u7684\u6d88\u8017 \u5199\u591a\u5ea6\u5c11\u7684\u4e1a\u52a1\u4f7f\u7528change buffer \u610f\u4e49\u8f83\u5927\uff0c\u5199\u540e\u7acb\u5373\u8bfb\uff0c\u6ca1\u6709\u51cf\u5c11\u78c1\u76d8\u7684io\u64cd\u4f5c\uff0c\u610f\u4e49\u4e0d\u5927 \u66f4\u65b0\u65f6\u5148\u8bb0\u5f55change buffer \u548c\u5185\u5b58\uff0c\u7136\u540e\u5c06\u64cd\u4f5c\u8bb0\u5f55\u5230redo log \u5e94\u7528change buffer \u5230\u6570\u636e\u9875\u7684\u64cd\u4f5c\u79f0\u4e3amerge\uff0c\u89e6\u53d1\u65f6\u673a \u67e5\u8be2\u8bed\u53e5 \u5b9a\u65f6\u66f4\u65b0 \u6570\u636e\u5e93\u6b63\u5e38\u5173\u95ed \u66f4\u65b0\u65f6\u662f\u5426\u4f7f\u7528change buffer \u66f4\u65b0\u7684\u76ee\u6807\u9875\u4e0d\u5728\u5185\u5b58\u4e2d \u552f\u4e00\u7d22\u5f15\u66f4\u65b0\u6570\u636e\u9875\u65f6\u65e0\u6cd5\u4f7f\u7528change buffer \u666e\u901a\u7d22\u5f15\u66f4\u65b0\u53ef\u4ee5\u4f7f\u7528change buffer","title":"\u66f4\u65b0\u8bed\u53e5"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#wal","text":"Write-Ahead Logging \u5148\u5199\u65e5\u5fd7\uff0c\u518d\u5199\u78c1\u76d8","title":"WAL"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#redo-log","text":"InnoDB\u5f15\u64ce\u7279\u6709\u7684\u65e5\u5fd7 \u66f4\u65b0\u8bb0\u5f55\u65f6\uff0c\u5148\u5199redo log\uff0c\u7136\u540e\u66f4\u65b0\u5185\u5b58\uff0c\u7136\u540e\u66f4\u65b0\u5c31\u5b8c\u6210\u4e86 InnoDB\u5f15\u64ce\u4f1a\u5728\u7cfb\u7edf\u6bd4\u8f83\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u5c06\u64cd\u4f5c\u8bb0\u5f55\u66f4\u65b0\u5230\u78c1\u76d8 redo log \u53ef\u5199\u5165\u7a7a\u95f4\u56fa\u5b9a\u5927\u5c0f\uff0c\u5faa\u73af\u5199\u5165 write pos \u5f53\u524d\u8bb0\u5f55\u7684\u4f4d\u7f6e checkpoint \u5f53\u524d\u8981\u64e6\u9664\u7684\u4f4d\u7f6e\uff0c\u5f80\u540e\u63a8\uff0c\u5e76\u4e14\u5faa\u73af\u7684\uff0c\u64e6\u9664\u8bb0\u5f55\u524d\u8981\u628a\u8bb0\u5f55\u66f4\u65b0\u5230\u6570\u636e\u6587\u4ef6 \u6709\u4e86redo log InnoDB\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u6570\u636e\u5e93\u53d1\u751f\u5f02\u5e38\u91cd\u542f\uff0c\u4e4b\u524d\u7684\u8bb0\u5f55\u4e5f\u4e0d\u4f1a\u4e22\u5931\uff0ccrash-safe","title":"redo log"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#redologbinlog","text":"redo log\u662fInnoDB\u5f15\u64ce\u7279\u6709\u7684\uff0cbinlog\u662fMySQL\u7684Server\u5c42\u5b9e\u73b0\u7684\uff0c\u6240\u6709\u5f15\u64ce\u90fd\u53ef\u4ee5\u4f7f\u7528 redo log\u662f\u7269\u7406\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7684\u662f\u5728\u67d0\u4e2a\u6570\u636e\u9875\u4e0a\u505a\u4e86\u4ec0\u4e48\u4fee\u6539\uff0cbinlog\u662f\u903b\u8f91\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7684\u662f\u8fd9\u4e2a\u8bed\u53e5\u7684\u539f\u59cb\u903b\u8f91 redo log \u662f\u5faa\u73af\u5199\u7684\uff0c\u7a7a\u95f4\u56fa\u5b9a\u4e14\u4f1a\u7528\u5b8c\uff0cbinlog\u662f\u8ffd\u52a0\u5199\u5165\u7684\uff0c\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\u5199\u5b8c\u4f1a\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\uff0c\u5e76\u4e0d\u4f1a\u8986\u76d6\u4ee5\u524d\u7684\u65e5\u5fd7","title":"redolog\u548cbinlog\u533a\u522b"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#_1","text":"\u6267\u884c\u5668\u627e\u5230\u6570\u636e\uff0c\u6570\u636e\u5728\u5185\u5b58\u9875\u4e0a\u76f4\u63a5\u8fd4\u56de\u7ed9\u6267\u884c\u5668\uff0c\u4e0d\u5728\u5c31\u53bb\u78c1\u76d8\u4e0a\u67e5\u627e\u7136\u540e\u8fd4\u56de\u7ed9\u6267\u884c\u5668 \u6267\u884c\u5668\u4fee\u6539\u6570\u636e\uff0c\u8c03\u7528\u5f15\u64ce\u63a5\u53e3\uff0c\u5199\u5165\u65b0\u6570\u636e \u5f15\u64ce\u5c06\u65b0\u6570\u636e\u66f4\u65b0\u5230\u5185\u5b58\u4e2d\uff0c\u540c\u65f6\u5c06\u8fd9\u4e2a\u66f4\u65b0\u64cd\u4f5c\u8bb0\u5f55\u5230redolog\u91cc\u3002\u7136\u540eredolog\u5904\u4e8e prepare\u72b6\u6001\uff0c\u7136\u540e\u544a\u77e5\u6267\u884c\u5668\u53ef\u4ee5\u63d0\u4ea4\u4e8b\u52a1 \u6267\u884c\u5668\u751f\u6210binlog\uff0cbinlog\u5199\u5165\u78c1\u76d8 \u8c03\u7528\u5f15\u64ce\u7684\u63d0\u4ea4\u4e8b\u52a1\u63a5\u53e3\uff0c\u5f15\u64ce\u628a\u521a\u521a\u5199\u5165\u7684redolog\u6539\u6210\u63d0\u4ea4\u72b6\u6001\uff0c\u66f4\u65b0\u5b8c\u6210","title":"\u66f4\u65b0\u6570\u636e\u6d41\u7a0b"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#_2","text":"1 prepare\u9636\u6bb5 2 \u5199binlog 3 commit \u5f53\u57282\u4e4b\u524d\u5d29\u6e83\u65f6\uff0c\u91cd\u542f\u6062\u590d\uff1a\u540e\u53d1\u73b0\u6ca1\u6709commit\uff0c\u56de\u6eda\u3002\u5907\u4efd\u6062\u590d\uff1a\u6ca1\u6709binlog \u3002\u6570\u636e\u4e00\u81f4 \u5f53\u57283\u4e4b\u524d\u5d29\u6e83\uff0c\u91cd\u542f\u6062\u590d\uff1a\u867d\u6ca1\u6709commit\uff0c\u4f46\u6ee1\u8db3prepare\u548cbinlog\u5b8c\u6574\uff0c\u6240\u4ee5\u91cd\u542f\u540e\u4f1a\u81ea\u52a8commit\u3002\u5907\u4efd\uff1a\u6709binlog. \u6570\u636e\u4e00\u81f4","title":"\u4e24\u9636\u6bb5\u63d0\u4ea4"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#flush","text":"redolog\u6ee1\u4e86\uff0c\u7136\u540e\u5237\u5230\u78c1\u76d8\u3002\u7cfb\u7edf\u4f1a\u505c\u6b62\u6240\u6709\u66f4\u65b0\u64cd\u4f5c \u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\uff0c\u9700\u8981\u65b0\u7684\u5185\u5b58\u9875\u7684\u65f6\u5019\uff0c\u6dd8\u6c70\u4e00\u4e9b\u6700\u4e45\u4e0d\u4f7f\u7528\u6570\u636e\u9875\uff0c\u6dd8\u6c70\u7684\u662f\u810f\u9875\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u5237\u65b0\u810f\u9875\u5230\u78c1\u76d8 mysql\u7cfb\u7edf\u7a7a\u95f2\u65f6\uff0c\u5237\u65b0\u810f\u9875\u5230\u78c1\u76d8 mysql \u6b63\u5e38\u5173\u95ed\uff0c\u5237\u65b0\u810f\u9875\u5230\u78c1\u76d8 \u6b63\u5e38\u5237\u810f\u9875\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u628a\u90bb\u5c45\u5982\u679c\u4e5f\u662f\u810f\u9875\u7684\u8bdd\u90fd\u5237\u6389\uff0c\u7136\u540e\u8fd8\u4f1a\u53bb\u7ee7\u7eed\u5224\u65ad\u90bb\u5c45\u7684\u90bb\u5c45\u662f\u4e0d\u662f\u4e5f\u662f\u810f\u9875\uff0c\u53ef\u4ee5\u901a\u8fc7 innodb_flush_neighbors \u8bbe\u7f6e\u4e3a0\uff0c\u5173\u95ed\u90bb\u5c45\u810f\u9875\u68c0\u6d4b","title":"\u5237\u810f\u9875\u5230\u78c1\u76d8 flush"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#change-buffer","text":"\u5360\u7528buffer pool\u7684\u5bb9\u91cf \u66f4\u65b0\u7684\u6570\u636e\u9875\u5982\u679c\u5728\u5185\u5b58\u4e2d\u76f4\u63a5\u66f4\u65b0\uff0c\u4e0d\u5728\u5185\u5b58\u4e2d\u5c31\u4f1a\u5728change buffer\u4e2d\u8bb0\u5f55\u5bf9\u8bb0\u5f55\u7684\u64cd\u4f5c \u9700\u8981\u67e5\u8be2\u8be5\u8bb0\u5f55\u7684\u65f6\u5019\u5c31\u4f1a\u5c06\u6570\u636e\u9875\u8bfb\u5165\u5185\u5b58\uff0c\u5e94\u7528change buffer\u4e2d\u7684\u64cd\u4f5c \u53ef\u4ee5\u6301\u4e45\u5316\uff0c\u5728\u5185\u5b58\u4e2d\u6709\u62f7\u8d1d\u4e5f\u53ef\u4ee5\u5199\u5165\u5230\u78c1\u76d8\u4e0a \u51cf\u5c11\u4e86\u78c1\u76d8\u968f\u673a\u8bfb\u7684\u6d88\u8017 \u5199\u591a\u5ea6\u5c11\u7684\u4e1a\u52a1\u4f7f\u7528change buffer \u610f\u4e49\u8f83\u5927\uff0c\u5199\u540e\u7acb\u5373\u8bfb\uff0c\u6ca1\u6709\u51cf\u5c11\u78c1\u76d8\u7684io\u64cd\u4f5c\uff0c\u610f\u4e49\u4e0d\u5927 \u66f4\u65b0\u65f6\u5148\u8bb0\u5f55change buffer \u548c\u5185\u5b58\uff0c\u7136\u540e\u5c06\u64cd\u4f5c\u8bb0\u5f55\u5230redo log","title":"change buffer"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#change-buffer-merge","text":"\u67e5\u8be2\u8bed\u53e5 \u5b9a\u65f6\u66f4\u65b0 \u6570\u636e\u5e93\u6b63\u5e38\u5173\u95ed","title":"\u5e94\u7528change buffer \u5230\u6570\u636e\u9875\u7684\u64cd\u4f5c\u79f0\u4e3amerge\uff0c\u89e6\u53d1\u65f6\u673a"},{"location":"mysql/%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5/#change-buffer_1","text":"\u66f4\u65b0\u7684\u76ee\u6807\u9875\u4e0d\u5728\u5185\u5b58\u4e2d \u552f\u4e00\u7d22\u5f15\u66f4\u65b0\u6570\u636e\u9875\u65f6\u65e0\u6cd5\u4f7f\u7528change buffer \u666e\u901a\u7d22\u5f15\u66f4\u65b0\u53ef\u4ee5\u4f7f\u7528change buffer","title":"\u66f4\u65b0\u65f6\u662f\u5426\u4f7f\u7528change buffer"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/","text":"MySQL\u67b6\u6784\u56fe Server \u5c42 \u8fde\u63a5\u5668\u3001\u67e5\u8be2\u7f13\u5b58\u3001\u5206\u6790\u5668\u3001\u4f18\u5316\u5668\u3001\u6267\u884c\u5668\uff0c\u5b9e\u73b0\u6240\u6709\u7684\u5185\u7f6e\u51fd\u6570\uff08\u5982\u65e5\u671f\u3001\u65f6\u95f4\u3001\u6570\u5b66\u548c\u52a0\u5bc6\u51fd\u6570\u7b49\uff09\u548c\u8de8\u5b58\u50a8\u5f15\u64ce\u7684\u529f\u80fd\uff1a\u5b58\u50a8\u8fc7\u7a0b\u3001\u89e6\u53d1\u5668\u3001\u89c6\u56fe \u5b58\u50a8\u5f15\u64ce\u5c42 \u8d1f\u8d23\u6570\u636e\u7684\u5b58\u50a8\u548c\u8bfb\u53d6\uff0c\u63d2\u4ef6\u5f0f\u67b6\u6784\uff0cMySQL 5.5.5 \u7248\u672c\u5f00\u59cb\u9ed8\u8ba4\u4f7f\u7528InnoDB\u5b58\u50a8\u5f15\u64ce \u8fde\u63a5\u5668 \u8d1f\u8d23\u8ddf\u5ba2\u6237\u7aef\u5efa\u7acb\u8fde\u63a5\u3001\u83b7\u53d6\u6743\u9650\u3001\u7ef4\u6301\u548c\u7ba1\u7406\u8fde\u63a5 \u5ba2\u6237\u7aef\u957f\u65f6\u95f4\u65e0\u64cd\u4f5c\uff0c\u8fde\u63a5\u5668\u81ea\u52a8\u65ad\u5f00\u8fde\u63a5\uff0c\u7531\u53c2\u6570 wait_timeout \u63a7\u5236\uff0c\u9ed8\u8ba4\u503c\u662f 8 \u5c0f\u65f6 \u957f\u8fde\u63a5\uff1a\u8fde\u63a5\u6210\u529f\u540e\uff0c\u5ba2\u6237\u7aef\u6301\u7eed\u6709\u8bf7\u6c42\uff0c\u4e00\u76f4\u4f7f\u7528\u540c\u4e00\u4e2a\u8fde\u63a5 \u77ed\u8fde\u63a5\uff1a\u6bcf\u6b21\u6267\u884c\u5b8c\u5f88\u5c11\u7684\u51e0\u6b21\u67e5\u8be2\u5c31\u65ad\u5f00\u8fde\u63a5\uff0c\u4e0b\u6b21\u67e5\u8be2\u91cd\u65b0\u5efa\u7acb\u4e00\u4e2a \u5c3d\u91cf\u4f7f\u7528\u957f\u8fde\u63a5\uff0c\u51cf\u8f7b\u5efa\u7acb\u548c\u65ad\u5f00\u8fde\u63a5\u7684\u5f00\u9500 \u4f7f\u7528\u957f\u8fde\u63a5\u540e\uff0cMySQL\u5185\u5b58\u5360\u7528\u5927 \u5b9a\u671f\u65ad\u5f00\u8fde\u63a5\uff0c\u8fdb\u884c\u5927\u6570\u636e\u67e5\u8be2\u540e\uff0c\u65ad\u5f00\u8fde\u63a5\uff0c\u4e4b\u540e\u67e5\u8be2\u518d\u91cd\u8fde MySQL5.7\u4e4b\u540e\u7684\u7248\u672c\uff0c\u5927\u6570\u636e\u67e5\u8be2\u540e\uff0c\u4f7f\u7528 \u8fde\u63a5\u88ab\u65ad\u5f00\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u7684\u8bdd\uff0c\u5c31\u4f1a\u6536\u5230\u4e00\u4e2a\u9519\u8bef\u63d0\u9192\uff1a Lost connection to MySQL server during query \u4f7f\u7528 mysql_reset_connection \uff0c\u91cd\u7f6e\u8fde\u63a5\u5230\u521a\u521a\u521b\u5efa\u7684\u72b6\u6001 \u5206\u6790\u5668 \u5206\u6790\u8bed\u6cd5\u9519\u8bef \u5206\u6790\u6570\u636e\u8868\u548c\u5b57\u6bb5\u9519\u8bef \u4f18\u5316\u5668 \u5206\u6790\u7d22\u5f15 \u5206\u6790\u6570\u636e\u67e5\u8be2\u7684\u6700\u4f18\u65b9\u5f0f \u6267\u884c\u5668 \u5224\u65ad\u6267\u884c\u6743\u9650 \u8c03\u7528\u5b58\u50a8\u5f15\u64ce\u63a5\u53e3\u8fdb\u884c\u6570\u636e\u67e5\u8be2\uff0c\u62fc\u63a5\u8fd4\u56de\u7ed3\u679c\u96c6 \u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u8fc7\u7a0b\u4e00\u822c\u662f\u7ecf\u8fc7\u8fde\u63a5\u5668\u3001\u5206\u6790\u5668\u3001\u4f18\u5316\u5668\u3001\u6267\u884c\u5668\u7b49\u529f\u80fd\u6a21\u5757\uff0c\u6700\u540e\u5230\u8fbe\u5b58\u50a8\u5f15\u64ce","title":"\u67e5\u8be2\u8bed\u53e5"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#mysql","text":"","title":"MySQL\u67b6\u6784\u56fe"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#server","text":"\u8fde\u63a5\u5668\u3001\u67e5\u8be2\u7f13\u5b58\u3001\u5206\u6790\u5668\u3001\u4f18\u5316\u5668\u3001\u6267\u884c\u5668\uff0c\u5b9e\u73b0\u6240\u6709\u7684\u5185\u7f6e\u51fd\u6570\uff08\u5982\u65e5\u671f\u3001\u65f6\u95f4\u3001\u6570\u5b66\u548c\u52a0\u5bc6\u51fd\u6570\u7b49\uff09\u548c\u8de8\u5b58\u50a8\u5f15\u64ce\u7684\u529f\u80fd\uff1a\u5b58\u50a8\u8fc7\u7a0b\u3001\u89e6\u53d1\u5668\u3001\u89c6\u56fe","title":"Server \u5c42"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#_1","text":"\u8d1f\u8d23\u6570\u636e\u7684\u5b58\u50a8\u548c\u8bfb\u53d6\uff0c\u63d2\u4ef6\u5f0f\u67b6\u6784\uff0cMySQL 5.5.5 \u7248\u672c\u5f00\u59cb\u9ed8\u8ba4\u4f7f\u7528InnoDB\u5b58\u50a8\u5f15\u64ce","title":"\u5b58\u50a8\u5f15\u64ce\u5c42"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#_2","text":"\u8d1f\u8d23\u8ddf\u5ba2\u6237\u7aef\u5efa\u7acb\u8fde\u63a5\u3001\u83b7\u53d6\u6743\u9650\u3001\u7ef4\u6301\u548c\u7ba1\u7406\u8fde\u63a5 \u5ba2\u6237\u7aef\u957f\u65f6\u95f4\u65e0\u64cd\u4f5c\uff0c\u8fde\u63a5\u5668\u81ea\u52a8\u65ad\u5f00\u8fde\u63a5\uff0c\u7531\u53c2\u6570 wait_timeout \u63a7\u5236\uff0c\u9ed8\u8ba4\u503c\u662f 8 \u5c0f\u65f6 \u957f\u8fde\u63a5\uff1a\u8fde\u63a5\u6210\u529f\u540e\uff0c\u5ba2\u6237\u7aef\u6301\u7eed\u6709\u8bf7\u6c42\uff0c\u4e00\u76f4\u4f7f\u7528\u540c\u4e00\u4e2a\u8fde\u63a5 \u77ed\u8fde\u63a5\uff1a\u6bcf\u6b21\u6267\u884c\u5b8c\u5f88\u5c11\u7684\u51e0\u6b21\u67e5\u8be2\u5c31\u65ad\u5f00\u8fde\u63a5\uff0c\u4e0b\u6b21\u67e5\u8be2\u91cd\u65b0\u5efa\u7acb\u4e00\u4e2a \u5c3d\u91cf\u4f7f\u7528\u957f\u8fde\u63a5\uff0c\u51cf\u8f7b\u5efa\u7acb\u548c\u65ad\u5f00\u8fde\u63a5\u7684\u5f00\u9500 \u4f7f\u7528\u957f\u8fde\u63a5\u540e\uff0cMySQL\u5185\u5b58\u5360\u7528\u5927 \u5b9a\u671f\u65ad\u5f00\u8fde\u63a5\uff0c\u8fdb\u884c\u5927\u6570\u636e\u67e5\u8be2\u540e\uff0c\u65ad\u5f00\u8fde\u63a5\uff0c\u4e4b\u540e\u67e5\u8be2\u518d\u91cd\u8fde MySQL5.7\u4e4b\u540e\u7684\u7248\u672c\uff0c\u5927\u6570\u636e\u67e5\u8be2\u540e\uff0c\u4f7f\u7528 \u8fde\u63a5\u88ab\u65ad\u5f00\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u7684\u8bdd\uff0c\u5c31\u4f1a\u6536\u5230\u4e00\u4e2a\u9519\u8bef\u63d0\u9192\uff1a Lost connection to MySQL server during query \u4f7f\u7528 mysql_reset_connection \uff0c\u91cd\u7f6e\u8fde\u63a5\u5230\u521a\u521a\u521b\u5efa\u7684\u72b6\u6001","title":"\u8fde\u63a5\u5668"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#_3","text":"\u5206\u6790\u8bed\u6cd5\u9519\u8bef \u5206\u6790\u6570\u636e\u8868\u548c\u5b57\u6bb5\u9519\u8bef","title":"\u5206\u6790\u5668"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#_4","text":"\u5206\u6790\u7d22\u5f15 \u5206\u6790\u6570\u636e\u67e5\u8be2\u7684\u6700\u4f18\u65b9\u5f0f","title":"\u4f18\u5316\u5668"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#_5","text":"\u5224\u65ad\u6267\u884c\u6743\u9650 \u8c03\u7528\u5b58\u50a8\u5f15\u64ce\u63a5\u53e3\u8fdb\u884c\u6570\u636e\u67e5\u8be2\uff0c\u62fc\u63a5\u8fd4\u56de\u7ed3\u679c\u96c6","title":"\u6267\u884c\u5668"},{"location":"mysql/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/#_6","text":"","title":"\u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u8fc7\u7a0b\u4e00\u822c\u662f\u7ecf\u8fc7\u8fde\u63a5\u5668\u3001\u5206\u6790\u5668\u3001\u4f18\u5316\u5668\u3001\u6267\u884c\u5668\u7b49\u529f\u80fd\u6a21\u5757\uff0c\u6700\u540e\u5230\u8fbe\u5b58\u50a8\u5f15\u64ce"},{"location":"mysql/%E7%B4%A2%E5%BC%95/","text":"\u7d22\u5f15\u5e38\u89c1\u6570\u636e\u7ed3\u6784 \u54c8\u5e0c\u8868\uff1a\u952e\u503c\u5bf9\uff0c\u54c8\u5e0c\u78b0\u649e\u7528\u94fe\u8868\u94fe\u63a5\uff0c\u53ea\u9002\u7528\u4e8e\u7b49\u503c\u67e5\u8be2\uff0c\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2 \u6709\u5e8f\u6570\u7ec4\uff1a\u652f\u6301\u7b49\u503c\u67e5\u8be2\u548c\u8303\u56f4\u67e5\u8be2\uff0c\u4f46\u662f\u66f4\u65b0\u6570\u636e\u7684\u60c5\u51b5\u4e0b\uff0c\u6709\u5e8f\u6570\u7ec4\u6210\u672c\u8f83\u5927\uff0c\u6240\u4ee5\u6709\u5e8f\u6570\u7ec4\u53ea\u9002\u7528\u4e8e\u9759\u6001\u5b58\u50a8\u5f15\u64ce \u641c\u7d22\u6811 InnoDB\u7d22\u5f15\u6a21\u578b \u7d22\u5f15\u7ec4\u7ec7\u8868\uff1a\u6309\u4e3b\u952e\u987a\u5e8f\u5b58\u653e\u5728\u7d22\u5f15\u4e0a InnoDB \u4f7f\u7528 B+ \u6811\u7d22\u5f15\u6a21\u578b\uff0c\u6570\u636e\u90fd\u662f\u5b58\u50a8\u5728 B+ \u6811\u4e2d\u7684 InnoDB\u7d22\u5f15\u7c7b\u578b \u4e3b\u952e\u7d22\u5f15\uff1a\u53f6\u5b50\u8282\u70b9\u5b58\u7684\u662f\u6574\u884c\u6570\u636e\u3002\u5728 InnoDB \u91cc\uff0c\u4e3b\u952e\u7d22\u5f15\u4e5f\u88ab\u79f0\u4e3a\u805a\u7c07\u7d22\u5f15\uff08clustered index\uff09 \u975e\u4e3b\u952e\u7d22\u5f15\uff1a\u53f6\u5b50\u8282\u70b9\u5185\u5bb9\u662f\u4e3b\u952e\u7684\u503c\u3002\u5728 InnoDB \u91cc\uff0c\u975e\u4e3b\u952e\u7d22\u5f15\u4e5f\u88ab\u79f0\u4e3a\u4e8c\u7ea7\u7d22\u5f15\uff08secondary index \u4e3b\u952e\u7d22\u5f15\u548c\u975e\u4e3b\u952e\u7d22\u5f15\u67e5\u8be2\u533a\u522b \u975e\u4e3b\u952e\u7d22\u5f15\u67e5\u8be2\u5230\u6570\u636e\u540e\uff0c\u5982\u679c\u7d22\u5f15\u4e0a\u7684\u6570\u636e\u4e0d\u6ee1\u8db3\u67e5\u8be2\u9700\u6c42\uff0c\u9700\u8981\u56de\u5230\u4e3b\u952e\u7d22\u5f15\u7ee7\u7eed\u67e5\u8be2 \u4e3b\u952e\u7d22\u5f15\u67e5\u8be2\uff0c\u53ef\u4ee5\u67e5\u5230\u8bb0\u5f55\u7684\u6240\u6709\u4fe1\u606f \u4e8c\u6b21\u67e5\u8be2\u4e3b\u952e\u7684\u8fc7\u7a0b\u79f0\u4e3a \u56de\u8868 \u91cd\u5efa\u7d22\u5f15 \u4e3b\u952e\u7d22\u5f15 alter table T engine = InnoDB; \u4e8c\u7ea7\u7d22\u5f15 alter table T drop index k;alter table T add index(k); \u8986\u76d6\u7d22\u5f15 \u8981\u67e5\u8be2\u7684\u6570\u636e\u5b57\u6bb5\uff0c\u5168\u90e8\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u53ef\u4ee5\u67e5\u5230 \u8bc4\u4f30\u4e1a\u52a1\u53d6\u820d\u662f\u5426\u6709\u5fc5\u8981\u8bbe\u7f6e\u8054\u5408\u7d22\u5f15 \u6700\u5de6\u524d\u7f00\u539f\u5219 \u6700\u5de6\u524d\u7f00\u53ef\u4ee5\u662f\u8054\u5408\u7d22\u5f15\u7684\u6700\u5de6 N \u4e2a\u5b57\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u7d22\u5f15\u7684\u6700\u5de6 M \u4e2a\u5b57\u7b26 \u5efa\u7acb\u539f\u5219 \u901a\u8fc7\u79fb\u52a8\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5c11\u5efa\u7acb\u4e00\u4e2a\u5355\u72ec\u7d22\u5f15 \u7d22\u5f15\u5360\u7528\u7a7a\u95f4 \u7d22\u5f15\u4e0b\u63a8 index condition pushdown 5.6\u4e4b\u540e\u7248\u672c \u7d22\u5f15\u904d\u5386\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u7d22\u5f15\u4e2d\u5305\u542b\u7684\u5b57\u6bb5\u5148\u505a\u5224\u65ad\uff0c\u76f4\u63a5\u8fc7\u6ee4\u6389\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\uff0c\u51cf\u5c11\u56de\u8868\u6b21\u6570 \u6570\u636e\u5e93\u4f18\u5316\u5668\u9009\u62e9\u7d22\u5f15\u9519\u8bef mysql\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5analyze table \u5237\u65b0\u7edf\u8ba1\u4fe1\u606f force index \u5f3a\u5236\u4f7f\u7528\u67d0\u4e2a\u7d22\u5f15 \u4f18\u5316sql\u8bed\u53e5\uff0c\u4fdd\u6301\u903b\u8f91\u4e00\u81f4\uff0c\u4eba\u4e3a\u5f15\u5bfcmysql\u9009\u62e9\u6b63\u786e\u7684\u7d22\u5f15\uff08\u4f8b\u5982\uff1a\u4fee\u6539\u6392\u5e8f\u5b57\u6bb5\uff09 \u65b0\u5efa\u4e00\u4e2a\u66f4\u5408\u9002\u7684\u7d22\u5f15 \u5220\u6389\u9519\u8bef\u4f7f\u7528\u7684\u7d22\u5f15 \u5b57\u7b26\u4e32\u5efa\u7acb\u7d22\u5f15 \u8003\u8651\u6570\u636e\u533a\u5206\u5ea6 \u8003\u8651\u6570\u636e\u957f\u5ea6 \u8003\u8651\u524d\u7f00\u7d22\u5f15 hash\u7d22\u5f15 \u5012\u5e8f\u5b58\u50a8\u7d22\u5f15 \u7d22\u5f15\u5931\u6548 \u7d22\u5f15\u5b57\u6bb5\u4f7f\u7528\u51fd\u6570\u6216\u53c2\u4e0e\u8ba1\u7b97 \u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0cMySQL\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u5b57\u8fdb\u884c\u6bd4\u8f83 \u9690\u5f0f\u5b57\u7b26\u7f16\u7801\u8f6c\u6362 utf8 -> utf8mb4","title":"\u7d22\u5f15"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_1","text":"\u54c8\u5e0c\u8868\uff1a\u952e\u503c\u5bf9\uff0c\u54c8\u5e0c\u78b0\u649e\u7528\u94fe\u8868\u94fe\u63a5\uff0c\u53ea\u9002\u7528\u4e8e\u7b49\u503c\u67e5\u8be2\uff0c\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2 \u6709\u5e8f\u6570\u7ec4\uff1a\u652f\u6301\u7b49\u503c\u67e5\u8be2\u548c\u8303\u56f4\u67e5\u8be2\uff0c\u4f46\u662f\u66f4\u65b0\u6570\u636e\u7684\u60c5\u51b5\u4e0b\uff0c\u6709\u5e8f\u6570\u7ec4\u6210\u672c\u8f83\u5927\uff0c\u6240\u4ee5\u6709\u5e8f\u6570\u7ec4\u53ea\u9002\u7528\u4e8e\u9759\u6001\u5b58\u50a8\u5f15\u64ce \u641c\u7d22\u6811","title":"\u7d22\u5f15\u5e38\u89c1\u6570\u636e\u7ed3\u6784"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#innodb","text":"\u7d22\u5f15\u7ec4\u7ec7\u8868\uff1a\u6309\u4e3b\u952e\u987a\u5e8f\u5b58\u653e\u5728\u7d22\u5f15\u4e0a InnoDB \u4f7f\u7528 B+ \u6811\u7d22\u5f15\u6a21\u578b\uff0c\u6570\u636e\u90fd\u662f\u5b58\u50a8\u5728 B+ \u6811\u4e2d\u7684","title":"InnoDB\u7d22\u5f15\u6a21\u578b"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#innodb_1","text":"\u4e3b\u952e\u7d22\u5f15\uff1a\u53f6\u5b50\u8282\u70b9\u5b58\u7684\u662f\u6574\u884c\u6570\u636e\u3002\u5728 InnoDB \u91cc\uff0c\u4e3b\u952e\u7d22\u5f15\u4e5f\u88ab\u79f0\u4e3a\u805a\u7c07\u7d22\u5f15\uff08clustered index\uff09 \u975e\u4e3b\u952e\u7d22\u5f15\uff1a\u53f6\u5b50\u8282\u70b9\u5185\u5bb9\u662f\u4e3b\u952e\u7684\u503c\u3002\u5728 InnoDB \u91cc\uff0c\u975e\u4e3b\u952e\u7d22\u5f15\u4e5f\u88ab\u79f0\u4e3a\u4e8c\u7ea7\u7d22\u5f15\uff08secondary index","title":"InnoDB\u7d22\u5f15\u7c7b\u578b"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_2","text":"\u975e\u4e3b\u952e\u7d22\u5f15\u67e5\u8be2\u5230\u6570\u636e\u540e\uff0c\u5982\u679c\u7d22\u5f15\u4e0a\u7684\u6570\u636e\u4e0d\u6ee1\u8db3\u67e5\u8be2\u9700\u6c42\uff0c\u9700\u8981\u56de\u5230\u4e3b\u952e\u7d22\u5f15\u7ee7\u7eed\u67e5\u8be2 \u4e3b\u952e\u7d22\u5f15\u67e5\u8be2\uff0c\u53ef\u4ee5\u67e5\u5230\u8bb0\u5f55\u7684\u6240\u6709\u4fe1\u606f \u4e8c\u6b21\u67e5\u8be2\u4e3b\u952e\u7684\u8fc7\u7a0b\u79f0\u4e3a \u56de\u8868","title":"\u4e3b\u952e\u7d22\u5f15\u548c\u975e\u4e3b\u952e\u7d22\u5f15\u67e5\u8be2\u533a\u522b"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_3","text":"\u4e3b\u952e\u7d22\u5f15 alter table T engine = InnoDB; \u4e8c\u7ea7\u7d22\u5f15 alter table T drop index k;alter table T add index(k);","title":"\u91cd\u5efa\u7d22\u5f15"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_4","text":"\u8981\u67e5\u8be2\u7684\u6570\u636e\u5b57\u6bb5\uff0c\u5168\u90e8\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u53ef\u4ee5\u67e5\u5230 \u8bc4\u4f30\u4e1a\u52a1\u53d6\u820d\u662f\u5426\u6709\u5fc5\u8981\u8bbe\u7f6e\u8054\u5408\u7d22\u5f15","title":"\u8986\u76d6\u7d22\u5f15"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_5","text":"\u6700\u5de6\u524d\u7f00\u53ef\u4ee5\u662f\u8054\u5408\u7d22\u5f15\u7684\u6700\u5de6 N \u4e2a\u5b57\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u7d22\u5f15\u7684\u6700\u5de6 M \u4e2a\u5b57\u7b26 \u5efa\u7acb\u539f\u5219 \u901a\u8fc7\u79fb\u52a8\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5c11\u5efa\u7acb\u4e00\u4e2a\u5355\u72ec\u7d22\u5f15 \u7d22\u5f15\u5360\u7528\u7a7a\u95f4","title":"\u6700\u5de6\u524d\u7f00\u539f\u5219"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#index-condition-pushdown-56","text":"\u7d22\u5f15\u904d\u5386\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u7d22\u5f15\u4e2d\u5305\u542b\u7684\u5b57\u6bb5\u5148\u505a\u5224\u65ad\uff0c\u76f4\u63a5\u8fc7\u6ee4\u6389\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\uff0c\u51cf\u5c11\u56de\u8868\u6b21\u6570","title":"\u7d22\u5f15\u4e0b\u63a8 index condition pushdown 5.6\u4e4b\u540e\u7248\u672c"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_6","text":"mysql\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5analyze table \u5237\u65b0\u7edf\u8ba1\u4fe1\u606f force index \u5f3a\u5236\u4f7f\u7528\u67d0\u4e2a\u7d22\u5f15 \u4f18\u5316sql\u8bed\u53e5\uff0c\u4fdd\u6301\u903b\u8f91\u4e00\u81f4\uff0c\u4eba\u4e3a\u5f15\u5bfcmysql\u9009\u62e9\u6b63\u786e\u7684\u7d22\u5f15\uff08\u4f8b\u5982\uff1a\u4fee\u6539\u6392\u5e8f\u5b57\u6bb5\uff09 \u65b0\u5efa\u4e00\u4e2a\u66f4\u5408\u9002\u7684\u7d22\u5f15 \u5220\u6389\u9519\u8bef\u4f7f\u7528\u7684\u7d22\u5f15","title":"\u6570\u636e\u5e93\u4f18\u5316\u5668\u9009\u62e9\u7d22\u5f15\u9519\u8bef"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_7","text":"\u8003\u8651\u6570\u636e\u533a\u5206\u5ea6 \u8003\u8651\u6570\u636e\u957f\u5ea6 \u8003\u8651\u524d\u7f00\u7d22\u5f15 hash\u7d22\u5f15 \u5012\u5e8f\u5b58\u50a8\u7d22\u5f15","title":"\u5b57\u7b26\u4e32\u5efa\u7acb\u7d22\u5f15"},{"location":"mysql/%E7%B4%A2%E5%BC%95/#_8","text":"\u7d22\u5f15\u5b57\u6bb5\u4f7f\u7528\u51fd\u6570\u6216\u53c2\u4e0e\u8ba1\u7b97 \u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0cMySQL\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u5b57\u8fdb\u884c\u6bd4\u8f83 \u9690\u5f0f\u5b57\u7b26\u7f16\u7801\u8f6c\u6362 utf8 -> utf8mb4","title":"\u7d22\u5f15\u5931\u6548"},{"location":"mysql/%E8%84%8F%E9%A1%B5/","text":"\u810f\u9875 \u5185\u5b58\u6570\u636e\u9875\u548c\u78c1\u76d8\u6570\u636e\u9875\u4e0d\u4e00\u81f4\u7684\u6570\u636e\u9875\u5c31\u662f\u810f\u9875 \u4e00\u81f4\u7684\u79f0\u4e3a\u5e72\u51c0\u9875 \u5237\u810f\u9875 redo log \u8bb0\u5f55\u6ee1\u4e86\uff0c\u505c\u6b62\u6240\u6709\u66f4\u65b0\u64cd\u4f5c \u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\uff0c\u9700\u8981\u7a7a\u95f4\u653e\u65b0\u7684\u5185\u5b58\u9875\uff0c\u6dd8\u6c70\u4e00\u4e9b\u5c31\u6570\u636e\u9875\uff0c\u6dd8\u6c70\u7684\u5982\u679c\u662f\u810f\u9875\u5c31\u9700\u8981\u5237\u810f\u9875 \u7cfb\u7edf\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u5237\u810f\u9875 \u6570\u636e\u5e93\u6b63\u5e38\u5173\u95ed\u65f6\uff0c\u5237\u810f\u9875 \u5237\u810f\u9875\u63a7\u5236\u7b56\u7565 \u810f\u9875\u5360\u6bd4\u5927\u4e8e\u914d\u7f6e\u5f00\u542f100%\u901f\u5ea6\u5237\u810f\u9875 \u810f\u9875\u5360\u6bd4\u5c0f\u4e8e\u914d\u7f6e\u5f00\u542f\uff08\u810f\u9875\u6bd4\u4f8b/\u914d\u7f6e\uff09\u901f\u5ea6\u5237\u914d\u7f6e redo log checkpoint \u8ba1\u7b97\u51fa\u4e00\u4e2a0-100\u4e4b\u95f4\u7684\u6570\u5b57 \u53d6\u810f\u9875\u6bd4\u4f8b\u548credolog\u8ba1\u7b97\u7684\u6700\u5927\u503c\u5237\u810f\u9875 \u76f8\u90bb\u810f\u9875\u4f1a\u88ab\u4e00\u8d77\u5237\u5230\u78c1\u76d8 innodb_flush_neighbors \u4e3a1\u65f6\uff0c\u8fde\u540c\u90bb\u5c45\u548c\u90bb\u5c45\u7684\u90bb\u5c45\u4e00\u8d77\u88ab\u5237\u5230\u78c1\u76d8 \u4e3a0\u65f6\u53ea\u5237\u81ea\u5df1","title":"\u810f\u9875"},{"location":"mysql/%E8%84%8F%E9%A1%B5/#_1","text":"\u5185\u5b58\u6570\u636e\u9875\u548c\u78c1\u76d8\u6570\u636e\u9875\u4e0d\u4e00\u81f4\u7684\u6570\u636e\u9875\u5c31\u662f\u810f\u9875 \u4e00\u81f4\u7684\u79f0\u4e3a\u5e72\u51c0\u9875","title":"\u810f\u9875"},{"location":"mysql/%E8%84%8F%E9%A1%B5/#_2","text":"redo log \u8bb0\u5f55\u6ee1\u4e86\uff0c\u505c\u6b62\u6240\u6709\u66f4\u65b0\u64cd\u4f5c \u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\uff0c\u9700\u8981\u7a7a\u95f4\u653e\u65b0\u7684\u5185\u5b58\u9875\uff0c\u6dd8\u6c70\u4e00\u4e9b\u5c31\u6570\u636e\u9875\uff0c\u6dd8\u6c70\u7684\u5982\u679c\u662f\u810f\u9875\u5c31\u9700\u8981\u5237\u810f\u9875 \u7cfb\u7edf\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u5237\u810f\u9875 \u6570\u636e\u5e93\u6b63\u5e38\u5173\u95ed\u65f6\uff0c\u5237\u810f\u9875","title":"\u5237\u810f\u9875"},{"location":"mysql/%E8%84%8F%E9%A1%B5/#_3","text":"\u810f\u9875\u5360\u6bd4\u5927\u4e8e\u914d\u7f6e\u5f00\u542f100%\u901f\u5ea6\u5237\u810f\u9875 \u810f\u9875\u5360\u6bd4\u5c0f\u4e8e\u914d\u7f6e\u5f00\u542f\uff08\u810f\u9875\u6bd4\u4f8b/\u914d\u7f6e\uff09\u901f\u5ea6\u5237\u914d\u7f6e redo log checkpoint \u8ba1\u7b97\u51fa\u4e00\u4e2a0-100\u4e4b\u95f4\u7684\u6570\u5b57 \u53d6\u810f\u9875\u6bd4\u4f8b\u548credolog\u8ba1\u7b97\u7684\u6700\u5927\u503c\u5237\u810f\u9875","title":"\u5237\u810f\u9875\u63a7\u5236\u7b56\u7565"},{"location":"mysql/%E8%84%8F%E9%A1%B5/#_4","text":"innodb_flush_neighbors \u4e3a1\u65f6\uff0c\u8fde\u540c\u90bb\u5c45\u548c\u90bb\u5c45\u7684\u90bb\u5c45\u4e00\u8d77\u88ab\u5237\u5230\u78c1\u76d8 \u4e3a0\u65f6\u53ea\u5237\u81ea\u5df1","title":"\u76f8\u90bb\u810f\u9875\u4f1a\u88ab\u4e00\u8d77\u5237\u5230\u78c1\u76d8"},{"location":"mysql/%E8%A1%A8/","text":"\u8868\u6570\u636e \u5220\u9664\u8868\u5e76\u4e0d\u4f1a\u5220\u9664\u8bb0\u5f55\uff0c\u53ea\u662f\u5728\u5220\u9664\u7684\u4f4d\u7f6e\u6807\u8bb0\uff0c\u8be5\u8bb0\u5f55\u53ef\u4ee5\u590d\u7528 \u5220\u9664\u6570\u636e\u9875\u4e5f\u4e0d\u4f1a\u6e05\u7a7a\u6570\u636e\u9875\uff0c\u53ea\u662f\u6807\u8bb0\u6570\u636e\u9875\u53ef\u88ab\u590d\u7528 delete \u547d\u4ee4\u662f\u4e0d\u80fd\u56de\u6536\u8868\u7a7a\u95f4\u7684\uff0c\u53ea\u662f\u6807\u8bb0\u88ab\u590d\u7528\uff0c\u6ca1\u6709\u4f7f\u7528\u7684\u7a7a\u95f4\uff0c\u79f0\u4e3a\u201c\u7a7a\u6d1e\u201d \u7a7a\u6d1e \u5220\u9664\u6570\u636e\u9020\u6210\u7a7a\u6d1e \u63d2\u5165\u6570\u636e\u9020\u6210\u7a7a\u6d1e\uff0c\u7d22\u5f15\u4e0d\u8fde\u7eed\uff0c\u6570\u636e\u9875\u5206\u88c2 \u7d22\u5f15\u503c\u66f4\u65b0 \u91cd\u5efa\u8868 alter table T engine = InnoDB 5.5\u4e4b\u524d\uff0c\u91cd\u5efa\u65f6\u4e0d\u652f\u6301\u66f4\u65b0\u64cd\u4f5c\uff0c\u79bb\u7ebfddl 5.6\u4e4b\u540e\uff0c\u91cd\u5efa\u65f6\u4f1a\u8bb0\u5f55\u66f4\u65b0\u64cd\u4f5c\u5230\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\uff0c\u91cd\u5efa\u540e\u91cd\u653e\u65e5\u5fd7\u6587\u4ef6\u5230\u65b0\u7684\u8868\u4e2d\uff0conline ddl \u4f1a\u5148\u6301\u6709\u4e00\u4e2aMDL\u5199\u9501\uff0c\u7136\u540e\u6570\u636e\u62f7\u8d1d\u7684\u65f6\u5019\u4f1a\u9000\u5316\u6210\u8bfb\u9501\uff0c\u9632\u6b62\u5176\u4ed6\u7ebf\u7a0b\u66f4\u6539\u8868\u7ed3\u6784","title":"\u8868"},{"location":"mysql/%E8%A1%A8/#_1","text":"\u5220\u9664\u8868\u5e76\u4e0d\u4f1a\u5220\u9664\u8bb0\u5f55\uff0c\u53ea\u662f\u5728\u5220\u9664\u7684\u4f4d\u7f6e\u6807\u8bb0\uff0c\u8be5\u8bb0\u5f55\u53ef\u4ee5\u590d\u7528 \u5220\u9664\u6570\u636e\u9875\u4e5f\u4e0d\u4f1a\u6e05\u7a7a\u6570\u636e\u9875\uff0c\u53ea\u662f\u6807\u8bb0\u6570\u636e\u9875\u53ef\u88ab\u590d\u7528 delete \u547d\u4ee4\u662f\u4e0d\u80fd\u56de\u6536\u8868\u7a7a\u95f4\u7684\uff0c\u53ea\u662f\u6807\u8bb0\u88ab\u590d\u7528\uff0c\u6ca1\u6709\u4f7f\u7528\u7684\u7a7a\u95f4\uff0c\u79f0\u4e3a\u201c\u7a7a\u6d1e\u201d","title":"\u8868\u6570\u636e"},{"location":"mysql/%E8%A1%A8/#_2","text":"\u5220\u9664\u6570\u636e\u9020\u6210\u7a7a\u6d1e \u63d2\u5165\u6570\u636e\u9020\u6210\u7a7a\u6d1e\uff0c\u7d22\u5f15\u4e0d\u8fde\u7eed\uff0c\u6570\u636e\u9875\u5206\u88c2 \u7d22\u5f15\u503c\u66f4\u65b0","title":"\u7a7a\u6d1e"},{"location":"mysql/%E8%A1%A8/#_3","text":"alter table T engine = InnoDB 5.5\u4e4b\u524d\uff0c\u91cd\u5efa\u65f6\u4e0d\u652f\u6301\u66f4\u65b0\u64cd\u4f5c\uff0c\u79bb\u7ebfddl 5.6\u4e4b\u540e\uff0c\u91cd\u5efa\u65f6\u4f1a\u8bb0\u5f55\u66f4\u65b0\u64cd\u4f5c\u5230\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\uff0c\u91cd\u5efa\u540e\u91cd\u653e\u65e5\u5fd7\u6587\u4ef6\u5230\u65b0\u7684\u8868\u4e2d\uff0conline ddl \u4f1a\u5148\u6301\u6709\u4e00\u4e2aMDL\u5199\u9501\uff0c\u7136\u540e\u6570\u636e\u62f7\u8d1d\u7684\u65f6\u5019\u4f1a\u9000\u5316\u6210\u8bfb\u9501\uff0c\u9632\u6b62\u5176\u4ed6\u7ebf\u7a0b\u66f4\u6539\u8868\u7ed3\u6784","title":"\u91cd\u5efa\u8868"},{"location":"redis/redis/","text":"redis","title":"Redis"},{"location":"redis/redis/#redis","text":"","title":"redis"}]}