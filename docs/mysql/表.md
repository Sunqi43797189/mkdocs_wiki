### 表数据
- 删除表并不会删除记录，只是在删除的位置标记，该记录可以复用
- 删除数据页也不会清空数据页，只是标记数据页可被复用
- delete 命令是不能回收表空间的，只是标记被复用，没有使用的空间，称为“空洞”

### 空洞
- 删除数据造成空洞
- 插入数据造成空洞，索引不连续，数据页分裂
- 索引值更新

### 重建表
- alter table T engine = InnoDB
- 5.5之前，重建时不支持更新操作，离线ddl
- 5.6之后，重建时会记录更新操作到一个日志文件，重建后重放日志文件到新的表中，online ddl
- 会先持有一个MDL写锁，然后数据拷贝的时候会退化成读锁，防止其他线程更改表结构

